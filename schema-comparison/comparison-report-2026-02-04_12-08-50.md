# Relatório de Comparação de Schemas

**Data:** 04/02/2026 12:08:50  
**Produção:** Neon Cloud (neondb)  
**Desenvolvimento:** Local PostgreSQL (nr-bps_db)

---

## 1. TRIGGERS

### Triggers em PRODUÇÃO (79):

```
audit_avaliacoes|avaliacoes|EXECUTE FUNCTION audit_trigger_func()
audit_avaliacoes|avaliacoes|EXECUTE FUNCTION audit_trigger_func()
audit_avaliacoes|avaliacoes|EXECUTE FUNCTION audit_trigger_func()
audit_empresas_clientes|empresas_clientes|EXECUTE FUNCTION audit_trigger_func()
audit_empresas_clientes|empresas_clientes|EXECUTE FUNCTION audit_trigger_func()
audit_empresas_clientes|empresas_clientes|EXECUTE FUNCTION audit_trigger_func()
audit_funcionarios|funcionarios|EXECUTE FUNCTION audit_trigger_func()
audit_funcionarios|funcionarios|EXECUTE FUNCTION audit_trigger_func()
audit_funcionarios|funcionarios|EXECUTE FUNCTION audit_trigger_func()
audit_laudos|laudos|EXECUTE FUNCTION audit_trigger_func()
audit_laudos|laudos|EXECUTE FUNCTION audit_trigger_func()
audit_laudos|laudos|EXECUTE FUNCTION audit_trigger_func()
audit_lotes_avaliacao|lotes_avaliacao|EXECUTE FUNCTION audit_lote_change()
audit_lotes_avaliacao|lotes_avaliacao|EXECUTE FUNCTION audit_lote_change()
audit_lotes_avaliacao|lotes_avaliacao|EXECUTE FUNCTION audit_lote_change()
enforce_laudo_immutability|laudos|EXECUTE FUNCTION check_laudo_immutability()
enforce_laudo_immutability|laudos|EXECUTE FUNCTION check_laudo_immutability()
prevent_avaliacao_delete_after_emission|avaliacoes|EXECUTE FUNCTION prevent_modification_after_emission()
prevent_avaliacao_update_after_emission|avaliacoes|EXECUTE FUNCTION prevent_modification_after_emission()
prevent_lote_update_after_emission|lotes_avaliacao|EXECUTE FUNCTION prevent_lote_status_change_after_emission()
tr_contratantes_sync_status_ativa|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa()
tr_contratantes_sync_status_ativa|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa()
tr_contratantes_sync_status_ativa_personalizado|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_personalizado()
tr_contratantes_sync_status_ativa_personalizado|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_personalizado()
tr_contratantes_sync_status_ativa_robust|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_robust()
tr_contratantes_sync_status_ativa_robust|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_robust()
trg_audit_laudo_creation|laudos|EXECUTE FUNCTION audit_laudo_creation()
trg_audit_lote_status|lotes_avaliacao|EXECUTE FUNCTION audit_lote_status_change()
trg_entidades_senhas_updated_at|entidades_senhas|EXECUTE FUNCTION update_entidades_senhas_updated_at()
trg_contratantes_updated_at|contratantes|EXECUTE FUNCTION update_contratantes_updated_at()
trg_enforce_laudo_id_equals_lote|laudos|EXECUTE FUNCTION trg_enforce_laudo_id_equals_lote()
trg_gerar_numero_recibo|recibos|EXECUTE FUNCTION trigger_gerar_numero_recibo()
trg_immutable_laudo|laudos|EXECUTE FUNCTION prevent_update_laudo_enviado()
trg_immutable_laudo|laudos|EXECUTE FUNCTION prevent_update_laudo_enviado()
trg_immutable_lote|lotes_avaliacao|EXECUTE FUNCTION prevent_update_finalized_lote()
trg_laudo_jobs_updated_at|laudo_generation_jobs|EXECUTE FUNCTION set_updated_at_column()
trg_notificacoes_admin_updated|notificacoes_admin|EXECUTE FUNCTION atualizar_notificacao_admin_timestamp()
trg_pdf_jobs_update_timestamp|pdf_jobs|EXECUTE FUNCTION update_pdf_jobs_timestamp()
trg_prevent_contratante_emissor|entidades_senhas|EXECUTE FUNCTION prevent_contratante_for_emissor()
trg_prevent_contratante_emissor|entidades_senhas|EXECUTE FUNCTION prevent_contratante_for_emissor()
trg_prevent_gestor_emissor|funcionarios|EXECUTE FUNCTION prevent_gestor_being_emissor()
trg_prevent_gestor_emissor|funcionarios|EXECUTE FUNCTION prevent_gestor_being_emissor()
trg_prevent_laudo_lote_id_change|laudos|EXECUTE FUNCTION prevent_laudo_lote_id_change()
trg_protect_avaliacao_after_emit|avaliacoes|EXECUTE FUNCTION prevent_modification_avaliacao_when_lote_emitted()
trg_protect_avaliacao_after_emit|avaliacoes|EXECUTE FUNCTION prevent_modification_avaliacao_when_lote_emitted()
trg_protect_lote_after_emit|lotes_avaliacao|EXECUTE FUNCTION prevent_modification_lote_when_laudo_emitted()
trg_protect_senhas|entidades_senhas|EXECUTE FUNCTION fn_audit_entidades_senhas()
trg_protect_senhas|entidades_senhas|EXECUTE FUNCTION fn_audit_entidades_senhas()
trg_protect_senhas|entidades_senhas|EXECUTE FUNCTION fn_audit_entidades_senhas()
trg_recalc_lote_on_avaliacao_change|avaliacoes|EXECUTE FUNCTION fn_recalcular_status_lote_on_avaliacao_update()
trg_recalc_lote_on_avaliacao_change|avaliacoes|EXECUTE FUNCTION fn_recalcular_status_lote_on_avaliacao_update()
trg_recalc_lote_on_avaliacao_change|avaliacoes|EXECUTE FUNCTION fn_recalcular_status_lote_on_avaliacao_update()
trg_recalc_lote_on_avaliacao_update|avaliacoes|EXECUTE FUNCTION fn_recalcular_status_lote_on_avaliacao_update()
trg_recibos_atualizar_data|recibos|EXECUTE FUNCTION atualizar_data_modificacao()
trg_recibos_criar_pdf_job|recibos|EXECUTE FUNCTION trigger_criar_pdf_job()
trg_recibos_criar_pdf_job|recibos|EXECUTE FUNCTION trigger_criar_pdf_job()
trg_registrar_solicitacao_emissao|lotes_avaliacao|EXECUTE FUNCTION fn_registrar_solicitacao_emissao()
trg_reservar_id_laudo_on_lote_insert|lotes_avaliacao|EXECUTE FUNCTION fn_reservar_id_laudo_on_lote_insert()
trg_respostas_set_questao|respostas|EXECUTE FUNCTION set_questao_from_item()
trg_respostas_set_questao|respostas|EXECUTE FUNCTION set_questao_from_item()
trg_sync_personalizado_status|contratacao_personalizada|EXECUTE FUNCTION sync_personalizado_status()
trg_validar_parcelas|contratos_planos|EXECUTE FUNCTION validar_parcelas_json()
trg_validar_parcelas|contratos_planos|EXECUTE FUNCTION validar_parcelas_json()
trg_validar_status_avaliacao|avaliacoes|EXECUTE FUNCTION validar_status_avaliacao()
trg_validar_transicao_status|contratantes|EXECUTE FUNCTION validar_transicao_status_contratante()
trg_validar_transicao_status_lote|lotes_avaliacao|EXECUTE FUNCTION fn_validar_transicao_status_lote()
trigger_atualizar_timestamp_configuracoes|clinica_configuracoes|EXECUTE FUNCTION atualizar_timestamp_configuracoes()
trigger_atualizar_ultima_avaliacao|avaliacoes|EXECUTE FUNCTION atualizar_ultima_avaliacao_funcionario()
trigger_garantir_template_padrao_unico|templates_contrato|EXECUTE FUNCTION garantir_template_padrao_unico()
trigger_garantir_template_padrao_unico|templates_contrato|EXECUTE FUNCTION garantir_template_padrao_unico()
trigger_prevent_avaliacao_mutation_during_emission|avaliacoes|EXECUTE FUNCTION prevent_mutation_during_emission()
trigger_prevent_avaliacao_mutation_during_emission|avaliacoes|EXECUTE FUNCTION prevent_mutation_during_emission()
trigger_prevent_lote_mutation_during_emission|lotes_avaliacao|EXECUTE FUNCTION prevent_lote_mutation_during_emission()
trigger_registrar_inativacao|funcionarios|EXECUTE FUNCTION registrar_inativacao_funcionario()
trigger_resposta_immutability|respostas|EXECUTE FUNCTION check_resposta_immutability()
trigger_resposta_immutability|respostas|EXECUTE FUNCTION check_resposta_immutability()
trigger_resultado_immutability|resultados|EXECUTE FUNCTION check_resultado_immutability()
trigger_resultado_immutability|resultados|EXECUTE FUNCTION check_resultado_immutability()
trigger_resultado_immutability|resultados|EXECUTE FUNCTION check_resultado_immutability()
```

### Triggers em DESENVOLVIMENTO (72):

```
audit_avaliacoes|avaliacoes|EXECUTE FUNCTION audit_trigger_func()
audit_avaliacoes|avaliacoes|EXECUTE FUNCTION audit_trigger_func()
audit_avaliacoes|avaliacoes|EXECUTE FUNCTION audit_trigger_func()
audit_empresas_clientes|empresas_clientes|EXECUTE FUNCTION audit_trigger_func()
audit_empresas_clientes|empresas_clientes|EXECUTE FUNCTION audit_trigger_func()
audit_empresas_clientes|empresas_clientes|EXECUTE FUNCTION audit_trigger_func()
audit_funcionarios|funcionarios|EXECUTE FUNCTION audit_trigger_func()
audit_funcionarios|funcionarios|EXECUTE FUNCTION audit_trigger_func()
audit_funcionarios|funcionarios|EXECUTE FUNCTION audit_trigger_func()
audit_laudos|laudos|EXECUTE FUNCTION audit_trigger_func()
audit_laudos|laudos|EXECUTE FUNCTION audit_trigger_func()
audit_laudos|laudos|EXECUTE FUNCTION audit_trigger_func()
audit_lotes_avaliacao|lotes_avaliacao|EXECUTE FUNCTION audit_lote_change()
audit_lotes_avaliacao|lotes_avaliacao|EXECUTE FUNCTION audit_lote_change()
audit_lotes_avaliacao|lotes_avaliacao|EXECUTE FUNCTION audit_lote_change()
enforce_laudo_immutability|laudos|EXECUTE FUNCTION check_laudo_immutability()
enforce_laudo_immutability|laudos|EXECUTE FUNCTION check_laudo_immutability()
prevent_avaliacao_delete_after_emission|avaliacoes|EXECUTE FUNCTION prevent_modification_after_emission()
prevent_avaliacao_update_after_emission|avaliacoes|EXECUTE FUNCTION prevent_modification_after_emission()
prevent_lote_update_after_emission|lotes_avaliacao|EXECUTE FUNCTION prevent_lote_status_change_after_emission()
tr_contratantes_sync_status_ativa_personalizado|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_personalizado()
tr_contratantes_sync_status_ativa_personalizado|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_personalizado()
tr_contratantes_sync_status_ativa_robust|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_robust()
tr_contratantes_sync_status_ativa_robust|contratantes|EXECUTE FUNCTION contratantes_sync_status_ativa_robust()
trg_audit_laudo_creation|laudos|EXECUTE FUNCTION audit_laudo_creation()
trg_audit_lote_status|lotes_avaliacao|EXECUTE FUNCTION audit_lote_status_change()
trg_entidades_senhas_updated_at|entidades_senhas|EXECUTE FUNCTION update_entidades_senhas_updated_at()
trg_contratantes_updated_at|contratantes|EXECUTE FUNCTION update_contratantes_updated_at()
trg_enforce_laudo_id_equals_lote|laudos|EXECUTE FUNCTION trg_enforce_laudo_id_equals_lote()
trg_gerar_numero_recibo|recibos|EXECUTE FUNCTION trigger_gerar_numero_recibo()
trg_immutable_laudo|laudos|EXECUTE FUNCTION prevent_update_laudo_enviado()
trg_immutable_laudo|laudos|EXECUTE FUNCTION prevent_update_laudo_enviado()
trg_immutable_lote|lotes_avaliacao|EXECUTE FUNCTION prevent_update_finalized_lote()
trg_laudo_jobs_updated_at|laudo_generation_jobs|EXECUTE FUNCTION set_updated_at_column()
trg_notificacoes_admin_updated|notificacoes_admin|EXECUTE FUNCTION atualizar_notificacao_admin_timestamp()
trg_pdf_jobs_update_timestamp|pdf_jobs|EXECUTE FUNCTION update_pdf_jobs_timestamp()
trg_prevent_contratante_emissor|entidades_senhas|EXECUTE FUNCTION prevent_contratante_for_emissor()
trg_prevent_contratante_emissor|entidades_senhas|EXECUTE FUNCTION prevent_contratante_for_emissor()
trg_prevent_gestor_emissor|funcionarios|EXECUTE FUNCTION prevent_gestor_being_emissor()
trg_prevent_gestor_emissor|funcionarios|EXECUTE FUNCTION prevent_gestor_being_emissor()
trg_prevent_laudo_lote_id_change|laudos|EXECUTE FUNCTION prevent_laudo_lote_id_change()
trg_protect_avaliacao_after_emit|avaliacoes|EXECUTE FUNCTION prevent_modification_avaliacao_when_lote_emitted()
trg_protect_avaliacao_after_emit|avaliacoes|EXECUTE FUNCTION prevent_modification_avaliacao_when_lote_emitted()
trg_protect_lote_after_emit|lotes_avaliacao|EXECUTE FUNCTION prevent_modification_lote_when_laudo_emitted()
trg_protect_lote_after_emit|lotes_avaliacao|EXECUTE FUNCTION prevent_modification_lote_when_laudo_emitted()
trg_protect_senhas|entidades_senhas|EXECUTE FUNCTION fn_audit_entidades_senhas()
trg_protect_senhas|entidades_senhas|EXECUTE FUNCTION fn_audit_entidades_senhas()
trg_protect_senhas|entidades_senhas|EXECUTE FUNCTION fn_audit_entidades_senhas()
trg_recalc_lote_on_avaliacao_update|avaliacoes|EXECUTE FUNCTION fn_recalcular_status_lote_on_avaliacao_update()
trg_recibos_atualizar_data|recibos|EXECUTE FUNCTION atualizar_data_modificacao()
trg_recibos_criar_pdf_job|recibos|EXECUTE FUNCTION trigger_criar_pdf_job()
trg_recibos_criar_pdf_job|recibos|EXECUTE FUNCTION trigger_criar_pdf_job()
trg_registrar_solicitacao_emissao|lotes_avaliacao|EXECUTE FUNCTION fn_registrar_solicitacao_emissao()
trg_reservar_id_laudo_on_lote_insert|lotes_avaliacao|EXECUTE FUNCTION fn_reservar_id_laudo_on_lote_insert()
trg_respostas_set_questao|respostas|EXECUTE FUNCTION set_questao_from_item()
trg_respostas_set_questao|respostas|EXECUTE FUNCTION set_questao_from_item()
trg_validar_parcelas|contratos_planos|EXECUTE FUNCTION validar_parcelas_json()
trg_validar_parcelas|contratos_planos|EXECUTE FUNCTION validar_parcelas_json()
trg_validar_status_avaliacao|avaliacoes|EXECUTE FUNCTION validar_status_avaliacao()
trg_validar_transicao_status|contratantes|EXECUTE FUNCTION validar_transicao_status_contratante()
trg_validar_transicao_status_lote|lotes_avaliacao|EXECUTE FUNCTION fn_validar_transicao_status_lote()
trigger_atualizar_timestamp_configuracoes|clinica_configuracoes|EXECUTE FUNCTION atualizar_timestamp_configuracoes()
trigger_garantir_template_padrao_unico|templates_contrato|EXECUTE FUNCTION garantir_template_padrao_unico()
trigger_garantir_template_padrao_unico|templates_contrato|EXECUTE FUNCTION garantir_template_padrao_unico()
trigger_prevent_avaliacao_mutation_during_emission|avaliacoes|EXECUTE FUNCTION prevent_mutation_during_emission()
trigger_prevent_lote_mutation_during_emission|lotes_avaliacao|EXECUTE FUNCTION prevent_lote_mutation_during_emission()
trigger_registrar_inativacao|funcionarios|EXECUTE FUNCTION registrar_inativacao_funcionario()
trigger_resposta_immutability|respostas|EXECUTE FUNCTION check_resposta_immutability()
trigger_resposta_immutability|respostas|EXECUTE FUNCTION check_resposta_immutability()
trigger_resultado_immutability|resultados|EXECUTE FUNCTION check_resultado_immutability()
trigger_resultado_immutability|resultados|EXECUTE FUNCTION check_resultado_immutability()
trigger_resultado_immutability|resultados|EXECUTE FUNCTION check_resultado_immutability()
```

### ⚠️ Diferenças:

**Triggers extras em PRODUÇÃO (não estão em DEV):**

- tr_contratantes_sync_status_ativa
- tr_contratantes_sync_status_ativa
- trg_recalc_lote_on_avaliacao_change
- trg_recalc_lote_on_avaliacao_change
- trg_recalc_lote_on_avaliacao_change
- trg_sync_personalizado_status
- trigger_atualizar_ultima_avaliacao

## 2. VIEWS

### Views em PRODUÇÃO (19):

```
audit_stats_by_user
equipe_administrativa
funcionarios_operacionais
gestores
suspicious_activity
usuarios_resumo
v_auditoria_emissoes
v_fila_emissao
v_relatorio_emissoes_usuario
vw_analise_grupos_negativos
vw_audit_trail_por_contratante
vw_auditoria_acessos_funcionarios
vw_auditoria_acessos_rh
vw_auditoria_senhas
vw_comparativo_empresas
vw_funcionarios_por_lote
vw_notificacoes_admin_pendentes
vw_notificacoes_nao_lidas
vw_recibos_completos
```

### Views em DESENVOLVIMENTO (17):

```
audit_stats_by_user
equipe_administrativa
funcionarios_operacionais
gestores
suspicious_activity
usuarios_resumo
v_fila_emissao
vw_analise_grupos_negativos
vw_audit_trail_por_contratante
vw_auditoria_acessos_funcionarios
vw_auditoria_acessos_rh
vw_auditoria_senhas
vw_comparativo_empresas
vw_funcionarios_por_lote
vw_notificacoes_admin_pendentes
vw_notificacoes_nao_lidas
vw_recibos_completos
```

### ⚠️ Diferenças:

**Views extras em PRODUÇÃO:**

- v_auditoria_emissoes
- v_relatorio_emissoes_usuario

## 3. FUNÇÕES

### Funções em PRODUÇÃO (150):

```
armor
armor
arquivar_notificacoes_antigas
atualizar_contratacao_personalizada_atualizado_em
atualizar_data_modificacao
atualizar_notificacao_admin_timestamp
atualizar_timestamp_configuracoes
atualizar_ultima_avaliacao_funcionario
audit_bypassrls_session
audit_laudo_creation
audit_log_with_context
audit_lote_change
audit_lote_status_change
audit_trigger_func
audit_trigger_function
calcular_elegibilidade_lote
calcular_elegibilidade_lote_contratante
calcular_hash_pdf
calcular_vigencia_fim
check_laudo_immutability
check_resposta_immutability
check_resultado_immutability
contratante_pode_logar
contratantes_sync_status_ativa
contratantes_sync_status_ativa_personalizado
contratantes_sync_status_ativa_robust
criar_conta_responsavel_personalizado
criar_notificacao_recibo
criar_notificacao_recibo
crypt
current_user_clinica_id
current_user_clinica_id_optional
current_user_contratante_id
current_user_contratante_id_optional
current_user_cpf
current_user_is_gestor
current_user_perfil
dearmor
decrypt
decrypt_iv
detectar_anomalia_score
detectar_anomalias_indice
diagnosticar_lote_emissao
digest
digest
encrypt
encrypt_iv
execute_maintenance
fn_audit_entidades_senhas
fn_buscar_solicitante_laudo
fn_create_funcionario_autorizado
fn_delete_senha_autorizado
fn_limpar_senhas_teste
fn_limpar_tokens_expirados
fn_marcar_token_usado
fn_next_lote_id
fn_obter_solicitacao_emissao
fn_recalcular_status_lote_on_avaliacao_update
fn_reconcluir_lote_for_emergencia
fn_registrar_solicitacao_emissao
fn_relatorio_emissoes_periodo
fn_reservar_id_laudo_on_lote_insert
fn_validar_token_pagamento
fn_validar_transicao_status_lote
garantir_template_padrao_unico
gen_random_bytes
gen_random_uuid
gen_salt
gen_salt
gerar_dados_relatorio
gerar_hash_auditoria
gerar_numero_recibo
gerar_token_retomada_pagamento
get_contratante_funcionario
get_resultados_por_empresa
hmac
hmac
is_admin_or_master
is_valid_perfil
limpar_auditoria_laudos_antiga
limpar_notificacoes_resolvidas_antigas
log_access_denied
lote_pode_ser_processado
marcar_notificacoes_lidas
marcar_notificacoes_lidas
notificar_pre_cadastro_criado
notificar_sla_excedido
notificar_valor_definido
obter_config_clinica
obter_proximo_numero_ordem
obter_traducao
pgp_armor_headers
pgp_key_id
pgp_pub_decrypt
pgp_pub_decrypt
pgp_pub_decrypt
pgp_pub_decrypt_bytea
pgp_pub_decrypt_bytea
pgp_pub_decrypt_bytea
pgp_pub_encrypt
pgp_pub_encrypt
pgp_pub_encrypt_bytea
pgp_pub_encrypt_bytea
pgp_sym_decrypt
pgp_sym_decrypt
pgp_sym_decrypt_bytea
pgp_sym_decrypt_bytea
pgp_sym_encrypt
pgp_sym_encrypt
pgp_sym_encrypt_bytea
pgp_sym_encrypt_bytea
prevent_contratante_for_emissor
prevent_gestor_being_emissor
prevent_laudo_lote_id_change
prevent_lote_mutation_during_emission
prevent_lote_status_change_after_emission
prevent_modification_after_emission
prevent_modification_avaliacao_when_lote_emitted
prevent_modification_lote_when_laudo_emitted
prevent_mutation_during_emission
prevent_update_finalized_lote
prevent_update_laudo_enviado
refresh_vw_recibos_completos_mat
registrar_inativacao_funcionario
resolver_notificacao
resolver_notificacoes_por_contexto
safe_drop_policy
set_questao_from_item
set_updated_at_column
sync_contratacao_status_to_contratante
sync_personalizado_status
trg_enforce_laudo_id_equals_lote
trg_recalc_lote_on_avaliacao_change
trigger_criar_pdf_job
trigger_gerar_numero_recibo
update_entidades_senhas_updated_at
update_contratantes_updated_at
update_pdf_jobs_timestamp
upsert_laudo
user_has_permission
validar_lote_para_laudo
validar_lote_pre_laudo
validar_parcelas_json
validar_sessao_rls
validar_status_avaliacao
validar_transicao_status_contratante
validate_policy_table_match
validate_rh_clinica
verificar_inativacao_consecutiva
verificar_integridade_recibo
```

### Funções em DESENVOLVIMENTO (143):

```
armor
armor
arquivar_notificacoes_antigas
atualizar_contratacao_personalizada_atualizado_em
atualizar_data_modificacao
atualizar_notificacao_admin_timestamp
atualizar_timestamp_configuracoes
atualizar_ultima_avaliacao_funcionario
audit_bypassrls_session
audit_laudo_creation
audit_log_with_context
audit_lote_change
audit_lote_status_change
audit_trigger_func
audit_trigger_function
calcular_elegibilidade_lote
calcular_elegibilidade_lote_contratante
calcular_hash_pdf
calcular_vigencia_fim
check_laudo_immutability
check_resposta_immutability
check_resultado_immutability
contratante_pode_logar
contratantes_sync_status_ativa
contratantes_sync_status_ativa_personalizado
contratantes_sync_status_ativa_robust
criar_conta_responsavel_personalizado
criar_notificacao_recibo
criar_notificacao_recibo
crypt
current_user_clinica_id
current_user_clinica_id_optional
current_user_contratante_id
current_user_contratante_id_optional
current_user_cpf
current_user_is_gestor
current_user_perfil
dearmor
decrypt
decrypt_iv
detectar_anomalia_score
detectar_anomalias_indice
diagnosticar_lote_emissao
digest
digest
encrypt
encrypt_iv
execute_maintenance
fn_audit_entidades_senhas
fn_buscar_solicitante_laudo
fn_create_funcionario_autorizado
fn_delete_senha_autorizado
fn_limpar_senhas_teste
fn_next_lote_id
fn_obter_solicitacao_emissao
fn_recalcular_status_lote_on_avaliacao_update
fn_registrar_solicitacao_emissao
fn_relatorio_emissoes_periodo
fn_reservar_id_laudo_on_lote_insert
fn_validar_transicao_status_lote
garantir_template_padrao_unico
gen_random_bytes
gen_random_uuid
gen_salt
gen_salt
gerar_dados_relatorio
gerar_hash_auditoria
gerar_numero_recibo
gerar_token_retomada_pagamento
get_contratante_funcionario
get_resultados_por_empresa
hmac
hmac
is_admin_or_master
is_valid_perfil
limpar_auditoria_laudos_antiga
limpar_notificacoes_resolvidas_antigas
log_access_denied
lote_pode_ser_processado
marcar_notificacoes_lidas
marcar_notificacoes_lidas
notificar_sla_excedido
obter_config_clinica
obter_proximo_numero_ordem
obter_traducao
pgp_armor_headers
pgp_key_id
pgp_pub_decrypt
pgp_pub_decrypt
pgp_pub_decrypt
pgp_pub_decrypt_bytea
pgp_pub_decrypt_bytea
pgp_pub_decrypt_bytea
pgp_pub_encrypt
pgp_pub_encrypt
pgp_pub_encrypt_bytea
pgp_pub_encrypt_bytea
pgp_sym_decrypt
pgp_sym_decrypt
pgp_sym_decrypt_bytea
pgp_sym_decrypt_bytea
pgp_sym_encrypt
pgp_sym_encrypt
pgp_sym_encrypt_bytea
pgp_sym_encrypt_bytea
prevent_contratante_for_emissor
prevent_gestor_being_emissor
prevent_laudo_lote_id_change
prevent_lote_mutation_during_emission
prevent_lote_status_change_after_emission
prevent_modification_after_emission
prevent_modification_avaliacao_when_lote_emitted
prevent_modification_lote_when_laudo_emitted
prevent_mutation_during_emission
prevent_update_finalized_lote
prevent_update_laudo_enviado
refresh_vw_recibos_completos_mat
registrar_inativacao_funcionario
resolver_notificacao
resolver_notificacoes_por_contexto
safe_drop_policy
set_questao_from_item
set_updated_at_column
sync_contratacao_status_to_contratante
sync_personalizado_status
trg_enforce_laudo_id_equals_lote
trigger_criar_pdf_job
trigger_gerar_numero_recibo
update_entidades_senhas_updated_at
update_contratantes_updated_at
update_pdf_jobs_timestamp
upsert_laudo
user_has_permission
validar_lote_para_laudo
validar_lote_pre_laudo
validar_parcelas_json
validar_sessao_rls
validar_status_avaliacao
validar_transicao_status_contratante
validate_policy_table_match
validate_rh_clinica
verificar_inativacao_consecutiva
verificar_integridade_recibo
```

### ⚠️ Diferenças:

**Funções extras em PRODUÇÃO:**

- fn_limpar_tokens_expirados
- fn_marcar_token_usado
- fn_reconcluir_lote_for_emergencia
- fn_validar_token_pagamento
- notificar_pre_cadastro_criado
- notificar_valor_definido
- trg_recalc_lote_on_avaliacao_change

## 4. CONSTRAINTS

### Constraints em PRODUÇÃO (394):

```
450562_451195_1_not_null|_deprecated_fila_emissao|CHECK
450562_451195_2_not_null|_deprecated_fila_emissao|CHECK
chk_fila_emissao_solicitante|_deprecated_fila_emissao|CHECK
fila_emissao_lote_id_fkey|_deprecated_fila_emissao|FOREIGN KEY
fila_emissao_lote_id_unique|_deprecated_fila_emissao|UNIQUE
fila_emissao_pkey|_deprecated_fila_emissao|PRIMARY KEY
fila_emissao_tipo_solicitante_check|_deprecated_fila_emissao|CHECK
450562_450568_1_not_null|analise_estatistica|CHECK
analise_estatistica_avaliacao_id_fkey|analise_estatistica|FOREIGN KEY
analise_estatistica_pkey|analise_estatistica|PRIMARY KEY
450562_451089_10_not_null|audit_access_denied|CHECK
450562_451089_1_not_null|audit_access_denied|CHECK
450562_451089_4_not_null|audit_access_denied|CHECK
450562_451089_5_not_null|audit_access_denied|CHECK
audit_access_denied_pkey|audit_access_denied|PRIMARY KEY
450562_451096_12_not_null|audit_logs|CHECK
450562_451096_1_not_null|audit_logs|CHECK
450562_451096_4_not_null|audit_logs|CHECK
450562_451096_5_not_null|audit_logs|CHECK
audit_logs_clinica_id_fkey|audit_logs|FOREIGN KEY
audit_logs_contratante_id_fkey|audit_logs|FOREIGN KEY
audit_logs_pkey|audit_logs|PRIMARY KEY
chk_audit_logs_user_cpf_format|audit_logs|CHECK
450562_451108_13_not_null|auditoria|CHECK
450562_451108_1_not_null|auditoria|CHECK
450562_451108_2_not_null|auditoria|CHECK
450562_451108_3_not_null|auditoria|CHECK
450562_451108_4_not_null|auditoria|CHECK
auditoria_pkey|auditoria|PRIMARY KEY
450562_467206_1_not_null|auditoria_geral|CHECK
450562_467206_2_not_null|auditoria_geral|CHECK
450562_467206_3_not_null|auditoria_geral|CHECK
auditoria_geral_pkey|auditoria_geral|PRIMARY KEY
450562_451115_10_not_null|auditoria_laudos|CHECK
450562_451115_1_not_null|auditoria_laudos|CHECK
450562_451115_2_not_null|auditoria_laudos|CHECK
450562_451115_6_not_null|auditoria_laudos|CHECK
450562_451115_7_not_null|auditoria_laudos|CHECK
auditoria_laudos_pkey|auditoria_laudos|PRIMARY KEY
450562_467483_1_not_null|auditoria_recibos|CHECK
450562_467483_2_not_null|auditoria_recibos|CHECK
450562_467483_3_not_null|auditoria_recibos|CHECK
450562_467483_4_not_null|auditoria_recibos|CHECK
450562_467483_7_not_null|auditoria_recibos|CHECK
auditoria_recibos_pkey|auditoria_recibos|PRIMARY KEY
auditoria_recibos_recibo_id_fkey|auditoria_recibos|FOREIGN KEY
450562_451122_1_not_null|avaliacao_resets|CHECK
450562_451122_2_not_null|avaliacao_resets|CHECK
450562_451122_3_not_null|avaliacao_resets|CHECK
450562_451122_4_not_null|avaliacao_resets|CHECK
450562_451122_5_not_null|avaliacao_resets|CHECK
450562_451122_6_not_null|avaliacao_resets|CHECK
450562_451122_8_not_null|avaliacao_resets|CHECK
avaliacao_resets_avaliacao_id_fkey|avaliacao_resets|FOREIGN KEY
avaliacao_resets_lote_id_fkey|avaliacao_resets|FOREIGN KEY
avaliacao_resets_pkey|avaliacao_resets|PRIMARY KEY
450562_450576_1_not_null|avaliacoes|CHECK
450562_450576_2_not_null|avaliacoes|CHECK
avaliacoes_funcionario_cpf_fkey|avaliacoes|FOREIGN KEY
avaliacoes_lote_id_fkey|avaliacoes|FOREIGN KEY
avaliacoes_pkey|avaliacoes|PRIMARY KEY
avaliacoes_status_check|avaliacoes|CHECK
fk_avaliacoes_funcionario|avaliacoes|FOREIGN KEY
450562_467265_1_not_null|clinica_configuracoes|CHECK
450562_467265_2_not_null|clinica_configuracoes|CHECK
clinica_configuracoes_clinica_id_fkey|clinica_configuracoes|FOREIGN KEY
clinica_configuracoes_cor_primaria_check|clinica_configuracoes|CHECK
clinica_configuracoes_cor_secundaria_check|clinica_configuracoes|CHECK
clinica_configuracoes_formato_data_preferencial_check|clinica_configuracoes|CHECK
clinica_configuracoes_pkey|clinica_configuracoes|PRIMARY KEY
unique_clinica_config|clinica_configuracoes|UNIQUE
450562_450586_1_not_null|clinicas|CHECK
450562_450586_2_not_null|clinicas|CHECK
clinicas_cnpj_key|clinicas|UNIQUE
clinicas_pkey|clinicas|PRIMARY KEY
fk_clinicas_contratante|clinicas|FOREIGN KEY
unique_clinica_contratante|clinicas|UNIQUE
450562_450594_1_not_null|clinicas_empresas|CHECK
450562_450594_2_not_null|clinicas_empresas|CHECK
clinicas_empresas_clinica_id_fkey|clinicas_empresas|FOREIGN KEY
clinicas_empresas_empresa_id_fkey|clinicas_empresas|FOREIGN KEY
clinicas_empresas_pkey|clinicas_empresas|PRIMARY KEY
450562_467528_1_not_null|contratacao_personalizada|CHECK
contratacao_personalizada_contratante_id_fkey|contratacao_personalizada|FOREIGN KEY
contratacao_personalizada_pkey|contratacao_personalizada|PRIMARY KEY
450562_451142_10_not_null|contratantes|CHECK
450562_451142_11_not_null|contratantes|CHECK
450562_451142_12_not_null|contratantes|CHECK
450562_451142_13_not_null|contratantes|CHECK
450562_451142_15_not_null|contratantes|CHECK
450562_451142_16_not_null|contratantes|CHECK
450562_451142_1_not_null|contratantes|CHECK
450562_451142_2_not_null|contratantes|CHECK
450562_451142_3_not_null|contratantes|CHECK
450562_451142_4_not_null|contratantes|CHECK
450562_451142_6_not_null|contratantes|CHECK
450562_451142_7_not_null|contratantes|CHECK
450562_451142_8_not_null|contratantes|CHECK
450562_451142_9_not_null|contratantes|CHECK
chk_contratantes_tipo_valido|contratantes|CHECK
contratantes_cnpj_unique|contratantes|UNIQUE
contratantes_email_unique|contratantes|UNIQUE
contratantes_estado_check|contratantes|CHECK
contratantes_pkey|contratantes|PRIMARY KEY
contratantes_plano_id_fkey|contratantes|FOREIGN KEY
contratantes_responsavel_cpf_check|contratantes|CHECK
contratantes_responsavel_cpf_unique|contratantes|UNIQUE
450562_451155_1_not_null|entidades_senhas|CHECK
450562_451155_2_not_null|entidades_senhas|CHECK
450562_451155_3_not_null|entidades_senhas|CHECK
450562_451155_4_not_null|entidades_senhas|CHECK
entidades_senhas_cpf_check|entidades_senhas|CHECK
entidades_senhas_cpf_key|entidades_senhas|UNIQUE
entidades_senhas_pkey|entidades_senhas|PRIMARY KEY
fk_entidades_senhas_contratante|entidades_senhas|FOREIGN KEY
450562_467368_1_not_null|entidades_senhas_audit|CHECK
450562_467368_2_not_null|entidades_senhas_audit|CHECK
450562_467368_3_not_null|entidades_senhas_audit|CHECK
450562_467368_4_not_null|entidades_senhas_audit|CHECK
450562_467368_8_not_null|entidades_senhas_audit|CHECK
chk_operacao|entidades_senhas_audit|CHECK
entidades_senhas_audit_pkey|entidades_senhas_audit|PRIMARY KEY
450562_451166_1_not_null|contratos|CHECK
450562_451166_2_not_null|contratos|CHECK
450562_451166_6_not_null|contratos|CHECK
450562_451166_7_not_null|contratos|CHECK
450562_451166_8_not_null|contratos|CHECK
contratos_contratante_id_fkey|contratos|FOREIGN KEY
contratos_pkey|contratos|PRIMARY KEY
contratos_plano_id_fkey|contratos|FOREIGN KEY
450562_451176_1_not_null|contratos_planos|CHECK
450562_451176_5_not_null|contratos_planos|CHECK
450562_451176_7_not_null|contratos_planos|CHECK
chk_contratos_planos_tipo_contratante_valido|contratos_planos|CHECK
contratos_planos_clinica_id_fkey|contratos_planos|FOREIGN KEY
contratos_planos_clinica_or_contratante|contratos_planos|CHECK
contratos_planos_contratante_id_fkey|contratos_planos|FOREIGN KEY
contratos_planos_modalidade_pagamento_check|contratos_planos|CHECK
contratos_planos_pkey|contratos_planos|PRIMARY KEY
contratos_planos_plano_id_fkey|contratos_planos|FOREIGN KEY
contratos_planos_tipo_contratante_check|contratos_planos|CHECK
contratos_planos_tipo_pagamento_check|contratos_planos|CHECK
450562_451185_1_not_null|emissao_queue|CHECK
450562_451185_2_not_null|emissao_queue|CHECK
450562_451185_3_not_null|emissao_queue|CHECK
450562_451185_5_not_null|emissao_queue|CHECK
450562_451185_6_not_null|emissao_queue|CHECK
450562_451185_7_not_null|emissao_queue|CHECK
emissao_queue_lote_id_fkey|emissao_queue|FOREIGN KEY
emissao_queue_pkey|emissao_queue|PRIMARY KEY
450562_450599_11_not_null|empresas_clientes|CHECK
450562_450599_1_not_null|empresas_clientes|CHECK
450562_450599_2_not_null|empresas_clientes|CHECK
450562_450599_3_not_null|empresas_clientes|CHECK
empresas_clientes_clinica_id_fkey|empresas_clientes|FOREIGN KEY
empresas_clientes_cnpj_key|empresas_clientes|UNIQUE
empresas_clientes_pkey|empresas_clientes|PRIMARY KEY
fk_empresas_clinica|empresas_clientes|FOREIGN KEY
450562_450608_1_not_null|funcionarios|CHECK
450562_450608_28_not_null|funcionarios|CHECK
450562_450608_2_not_null|funcionarios|CHECK
450562_450608_31_not_null|funcionarios|CHECK
450562_450608_3_not_null|funcionarios|CHECK
450562_450608_7_not_null|funcionarios|CHECK
fk_funcionarios_clinica|funcionarios|FOREIGN KEY
fk_funcionarios_contratante|funcionarios|FOREIGN KEY
fk_funcionarios_ultima_avaliacao|funcionarios|FOREIGN KEY
funcionarios_clinica_check|funcionarios|CHECK
funcionarios_clinica_id_fkey|funcionarios|FOREIGN KEY
funcionarios_cpf_key|funcionarios|UNIQUE
funcionarios_empresa_id_fkey|funcionarios|FOREIGN KEY
funcionarios_matricula_key|funcionarios|UNIQUE
funcionarios_nivel_cargo_check|funcionarios|CHECK
funcionarios_perfil_check|funcionarios|CHECK
funcionarios_pkey|funcionarios|PRIMARY KEY
no_gestor_in_funcionarios|funcionarios|CHECK
450562_451209_1_not_null|laudo_arquivos_remotos|CHECK
450562_451209_2_not_null|laudo_arquivos_remotos|CHECK
450562_451209_3_not_null|laudo_arquivos_remotos|CHECK
450562_451209_4_not_null|laudo_arquivos_remotos|CHECK
450562_451209_5_not_null|laudo_arquivos_remotos|CHECK
450562_451209_6_not_null|laudo_arquivos_remotos|CHECK
laudo_arquivos_remotos_laudo_id_fkey|laudo_arquivos_remotos|FOREIGN KEY
laudo_arquivos_remotos_pkey|laudo_arquivos_remotos|PRIMARY KEY
450562_451217_1_not_null|laudo_downloads|CHECK
450562_451217_2_not_null|laudo_downloads|CHECK
laudo_downloads_arquivo_remoto_id_fkey|laudo_downloads|FOREIGN KEY
laudo_downloads_laudo_id_fkey|laudo_downloads|FOREIGN KEY
laudo_downloads_pkey|laudo_downloads|PRIMARY KEY
450562_451224_10_not_null|laudo_generation_jobs|CHECK
450562_451224_1_not_null|laudo_generation_jobs|CHECK
450562_451224_2_not_null|laudo_generation_jobs|CHECK
450562_451224_4_not_null|laudo_generation_jobs|CHECK
450562_451224_5_not_null|laudo_generation_jobs|CHECK
450562_451224_6_not_null|laudo_generation_jobs|CHECK
450562_451224_9_not_null|laudo_generation_jobs|CHECK
laudo_generation_jobs_lote_id_fkey|laudo_generation_jobs|FOREIGN KEY
laudo_generation_jobs_pkey|laudo_generation_jobs|PRIMARY KEY
450562_450620_1_not_null|laudos|CHECK
450562_450620_2_not_null|laudos|CHECK
chk_laudos_emitido_em_emissor_cpf|laudos|CHECK
fk_laudos_lote|laudos|FOREIGN KEY
laudos_emissor_cpf_fkey|laudos|FOREIGN KEY
laudos_emissor_cpf_fkey1|laudos|FOREIGN KEY
laudos_id_equals_lote_id|laudos|CHECK
laudos_lote_emissor_unique|laudos|UNIQUE
laudos_lote_id_fkey|laudos|FOREIGN KEY
laudos_lote_id_unique|laudos|UNIQUE
laudos_pkey|laudos|PRIMARY KEY
laudos_status_check|laudos|CHECK
450562_467426_1_not_null|logs_admin|CHECK
450562_467426_2_not_null|logs_admin|CHECK
450562_467426_3_not_null|logs_admin|CHECK
logs_admin_pkey|logs_admin|PRIMARY KEY
450562_451236_1_not_null|lote_id_allocator|CHECK
450562_450630_15_not_null|lotes_avaliacao|CHECK
450562_450630_1_not_null|lotes_avaliacao|CHECK
fk_lotes_clinica|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_clinica_id_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_clinica_or_contratante_check|lotes_avaliacao|CHECK
lotes_avaliacao_contratante_id_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_empresa_id_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_empresa_numero_ordem_unique|lotes_avaliacao|UNIQUE
lotes_avaliacao_liberado_por_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_pkey|lotes_avaliacao|PRIMARY KEY
lotes_avaliacao_status_check|lotes_avaliacao|CHECK
lotes_avaliacao_tipo_check|lotes_avaliacao|CHECK
450562_451240_1_not_null|mfa_codes|CHECK
450562_451240_2_not_null|mfa_codes|CHECK
450562_451240_3_not_null|mfa_codes|CHECK
450562_451240_4_not_null|mfa_codes|CHECK
fk_mfa_funcionarios|mfa_codes|FOREIGN KEY
mfa_codes_pkey|mfa_codes|PRIMARY KEY
450562_451246_1_not_null|migration_guidelines|CHECK
450562_451246_2_not_null|migration_guidelines|CHECK
450562_451246_3_not_null|migration_guidelines|CHECK
migration_guidelines_pkey|migration_guidelines|PRIMARY KEY
450562_467166_17_not_null|notificacoes|CHECK
450562_467166_1_not_null|notificacoes|CHECK
450562_467166_2_not_null|notificacoes|CHECK
450562_467166_4_not_null|notificacoes|CHECK
450562_467166_5_not_null|notificacoes|CHECK
450562_467166_6_not_null|notificacoes|CHECK
450562_467166_7_not_null|notificacoes|CHECK
notificacao_destinatario_valido|notificacoes|CHECK
notificacoes_destinatario_tipo_check|notificacoes|CHECK
notificacoes_pkey|notificacoes|PRIMARY KEY
450562_451254_1_not_null|notificacoes_admin|CHECK
450562_451254_2_not_null|notificacoes_admin|CHECK
450562_451254_3_not_null|notificacoes_admin|CHECK
450562_451254_7_not_null|notificacoes_admin|CHECK
fk_notificacoes_contratante|notificacoes_admin|FOREIGN KEY
fk_notificacoes_contrato|notificacoes_admin|FOREIGN KEY
fk_notificacoes_pagamento|notificacoes_admin|FOREIGN KEY
notificacoes_admin_lote_id_fkey|notificacoes_admin|FOREIGN KEY
notificacoes_admin_pkey|notificacoes_admin|PRIMARY KEY
450562_467324_1_not_null|notificacoes_traducoes|CHECK
450562_467324_2_not_null|notificacoes_traducoes|CHECK
450562_467324_3_not_null|notificacoes_traducoes|CHECK
450562_467324_4_not_null|notificacoes_traducoes|CHECK
450562_467324_5_not_null|notificacoes_traducoes|CHECK
notificacoes_traducoes_categoria_check|notificacoes_traducoes|CHECK
notificacoes_traducoes_pkey|notificacoes_traducoes|PRIMARY KEY
unique_traducao|notificacoes_traducoes|UNIQUE
450562_451262_1_not_null|pagamentos|CHECK
450562_451262_2_not_null|pagamentos|CHECK
450562_451262_3_not_null|pagamentos|CHECK
check_numero_parcelas|pagamentos|CHECK
pagamentos_contrato_id_fkey|pagamentos|FOREIGN KEY
pagamentos_idempotency_key_key|pagamentos|UNIQUE
pagamentos_pkey|pagamentos|PRIMARY KEY
450562_467674_1_not_null|payment_links|CHECK
450562_467674_2_not_null|payment_links|CHECK
450562_467674_3_not_null|payment_links|CHECK
450562_467674_5_not_null|payment_links|CHECK
450562_467674_8_not_null|payment_links|CHECK
payment_links_contrato_id_fkey|payment_links|FOREIGN KEY
payment_links_pkey|payment_links|PRIMARY KEY
payment_links_token_key|payment_links|UNIQUE
450562_467440_1_not_null|pdf_jobs|CHECK
450562_467440_2_not_null|pdf_jobs|CHECK
450562_467440_3_not_null|pdf_jobs|CHECK
450562_467440_4_not_null|pdf_jobs|CHECK
450562_467440_5_not_null|pdf_jobs|CHECK
450562_467440_7_not_null|pdf_jobs|CHECK
450562_467440_8_not_null|pdf_jobs|CHECK
pdf_jobs_pkey|pdf_jobs|PRIMARY KEY
pdf_jobs_recibo_id_fkey|pdf_jobs|FOREIGN KEY
pdf_jobs_recibo_id_key|pdf_jobs|UNIQUE
pdf_jobs_status_check|pdf_jobs|CHECK
450562_451273_1_not_null|permissions|CHECK
450562_451273_2_not_null|permissions|CHECK
450562_451273_3_not_null|permissions|CHECK
450562_451273_4_not_null|permissions|CHECK
permissions_name_key|permissions|UNIQUE
permissions_pkey|permissions|PRIMARY KEY
450562_451280_1_not_null|planos|CHECK
450562_451280_2_not_null|planos|CHECK
450562_451280_3_not_null|planos|CHECK
planos_pkey|planos|PRIMARY KEY
450562_451289_1_not_null|policy_expression_backups|CHECK
450562_451289_2_not_null|policy_expression_backups|CHECK
450562_451289_3_not_null|policy_expression_backups|CHECK
450562_451289_4_not_null|policy_expression_backups|CHECK
policy_expression_backups_pkey|policy_expression_backups|PRIMARY KEY
450562_450647_1_not_null|questao_condicoes|CHECK
450562_450647_2_not_null|questao_condicoes|CHECK
questao_condicoes_pkey|questao_condicoes|PRIMARY KEY
450562_451296_11_not_null|recibos|CHECK
450562_451296_1_not_null|recibos|CHECK
450562_451296_26_not_null|recibos|CHECK
450562_451296_2_not_null|recibos|CHECK
450562_451296_3_not_null|recibos|CHECK
450562_451296_5_not_null|recibos|CHECK
450562_451296_6_not_null|recibos|CHECK
450562_451296_7_not_null|recibos|CHECK
450562_451296_8_not_null|recibos|CHECK
450562_451296_9_not_null|recibos|CHECK
fk_recibos_clinica|recibos|FOREIGN KEY
fk_recibos_contratante|recibos|FOREIGN KEY
fk_recibos_contrato|recibos|FOREIGN KEY
fk_recibos_pagamento|recibos|FOREIGN KEY
recibos_contratante_ou_clinica_check|recibos|CHECK
recibos_numero_funcionarios_check|recibos|CHECK
recibos_numero_parcelas_check|recibos|CHECK
recibos_numero_recibo_key|recibos|UNIQUE
recibos_pagamento_id_unique|recibos|UNIQUE
recibos_pkey|recibos|PRIMARY KEY
recibos_valor_funcionario_check|recibos|CHECK
recibos_valor_total_check|recibos|CHECK
recibos_vigencia_check|recibos|CHECK
450562_450654_1_not_null|relatorio_templates|CHECK
450562_450654_2_not_null|relatorio_templates|CHECK
450562_450654_3_not_null|relatorio_templates|CHECK
relatorio_templates_pkey|relatorio_templates|PRIMARY KEY
relatorio_templates_tipo_check|relatorio_templates|CHECK
450562_450665_1_not_null|respostas|CHECK
450562_450665_2_not_null|respostas|CHECK
450562_450665_3_not_null|respostas|CHECK
450562_450665_4_not_null|respostas|CHECK
450562_450665_5_not_null|respostas|CHECK
fk_respostas_avaliacao|respostas|FOREIGN KEY
respostas_avaliacao_id_fkey|respostas|FOREIGN KEY
respostas_avaliacao_id_grupo_item_key|respostas|UNIQUE
respostas_pkey|respostas|PRIMARY KEY
respostas_valor_check|respostas|CHECK
450562_450671_1_not_null|resultados|CHECK
450562_450671_2_not_null|resultados|CHECK
450562_450671_3_not_null|resultados|CHECK
450562_450671_4_not_null|resultados|CHECK
450562_450671_5_not_null|resultados|CHECK
fk_resultados_avaliacao|resultados|FOREIGN KEY
resultados_avaliacao_id_fkey|resultados|FOREIGN KEY
resultados_avaliacao_id_grupo_key|resultados|UNIQUE
resultados_categoria_check|resultados|CHECK
resultados_pkey|resultados|PRIMARY KEY
450562_451312_1_not_null|role_permissions|CHECK
450562_451312_2_not_null|role_permissions|CHECK
role_permissions_permission_id_fkey|role_permissions|FOREIGN KEY
role_permissions_pkey|role_permissions|PRIMARY KEY
role_permissions_role_id_fkey|role_permissions|FOREIGN KEY
450562_451316_1_not_null|roles|CHECK
450562_451316_2_not_null|roles|CHECK
450562_451316_3_not_null|roles|CHECK
roles_name_key|roles|UNIQUE
roles_pkey|roles|PRIMARY KEY
450562_466955_11_not_null|session_logs|CHECK
450562_466955_1_not_null|session_logs|CHECK
450562_466955_2_not_null|session_logs|CHECK
450562_466955_3_not_null|session_logs|CHECK
450562_466955_6_not_null|session_logs|CHECK
session_logs_pkey|session_logs|PRIMARY KEY
450562_467293_1_not_null|templates_contrato|CHECK
450562_467293_2_not_null|templates_contrato|CHECK
450562_467293_4_not_null|templates_contrato|CHECK
450562_467293_5_not_null|templates_contrato|CHECK
templates_contrato_nome_key|templates_contrato|UNIQUE
templates_contrato_pkey|templates_contrato|PRIMARY KEY
templates_contrato_tipo_template_check|templates_contrato|CHECK
450562_467400_1_not_null|tokens_retomada_pagamento|CHECK
450562_467400_2_not_null|tokens_retomada_pagamento|CHECK
450562_467400_3_not_null|tokens_retomada_pagamento|CHECK
450562_467400_4_not_null|tokens_retomada_pagamento|CHECK
450562_467400_7_not_null|tokens_retomada_pagamento|CHECK
chk_token_expiracao|tokens_retomada_pagamento|CHECK
fk_tokens_contratante|tokens_retomada_pagamento|FOREIGN KEY
fk_tokens_contrato|tokens_retomada_pagamento|FOREIGN KEY
tokens_retomada_pagamento_pkey|tokens_retomada_pagamento|PRIMARY KEY
tokens_retomada_pagamento_token_key|tokens_retomada_pagamento|UNIQUE
450562_467568_1_not_null|usuarios|CHECK
450562_467568_2_not_null|usuarios|CHECK
450562_467568_4_not_null|usuarios|CHECK
usuarios_cpf_key|usuarios|UNIQUE
usuarios_pkey|usuarios|PRIMARY KEY
```

### Constraints em DESENVOLVIMENTO (410):

```
2200_420131_1_not_null|_deprecated_fila_emissao|CHECK
2200_420131_2_not_null|_deprecated_fila_emissao|CHECK
chk_fila_emissao_solicitante|_deprecated_fila_emissao|CHECK
fila_emissao_lote_id_fkey|_deprecated_fila_emissao|FOREIGN KEY
fila_emissao_lote_id_unique|_deprecated_fila_emissao|UNIQUE
fila_emissao_pkey|_deprecated_fila_emissao|PRIMARY KEY
fila_emissao_tipo_solicitante_check|_deprecated_fila_emissao|CHECK
2200_425284_1_not_null|_migration_issues|CHECK
2200_425284_2_not_null|_migration_issues|CHECK
2200_425284_3_not_null|_migration_issues|CHECK
_migration_issues_pkey|_migration_issues|PRIMARY KEY
2200_419982_1_not_null|analise_estatistica|CHECK
analise_estatistica_avaliacao_id_fkey|analise_estatistica|FOREIGN KEY
analise_estatistica_pkey|analise_estatistica|PRIMARY KEY
2200_419990_10_not_null|audit_access_denied|CHECK
2200_419990_1_not_null|audit_access_denied|CHECK
2200_419990_4_not_null|audit_access_denied|CHECK
2200_419990_5_not_null|audit_access_denied|CHECK
audit_access_denied_pkey|audit_access_denied|PRIMARY KEY
2200_419997_12_not_null|audit_logs|CHECK
2200_419997_1_not_null|audit_logs|CHECK
2200_419997_4_not_null|audit_logs|CHECK
2200_419997_5_not_null|audit_logs|CHECK
audit_logs_clinica_id_fkey|audit_logs|FOREIGN KEY
audit_logs_contratante_id_fkey|audit_logs|FOREIGN KEY
audit_logs_pkey|audit_logs|PRIMARY KEY
chk_audit_logs_user_cpf_format|audit_logs|CHECK
2200_420009_13_not_null|auditoria|CHECK
2200_420009_1_not_null|auditoria|CHECK
2200_420009_2_not_null|auditoria|CHECK
2200_420009_3_not_null|auditoria|CHECK
2200_420009_4_not_null|auditoria|CHECK
auditoria_pkey|auditoria|PRIMARY KEY
2200_425568_1_not_null|auditoria_geral|CHECK
2200_425568_2_not_null|auditoria_geral|CHECK
2200_425568_3_not_null|auditoria_geral|CHECK
auditoria_geral_pkey|auditoria_geral|PRIMARY KEY
2200_420016_10_not_null|auditoria_laudos|CHECK
2200_420016_1_not_null|auditoria_laudos|CHECK
2200_420016_2_not_null|auditoria_laudos|CHECK
2200_420016_6_not_null|auditoria_laudos|CHECK
2200_420016_7_not_null|auditoria_laudos|CHECK
auditoria_laudos_pkey|auditoria_laudos|PRIMARY KEY
chk_solicitation_has_requester|auditoria_laudos|CHECK
chk_status_valid|auditoria_laudos|CHECK
chk_tipo_solicitante_valid|auditoria_laudos|CHECK
fk_auditoria_laudos_lote_id|auditoria_laudos|FOREIGN KEY
2200_425847_1_not_null|auditoria_recibos|CHECK
2200_425847_2_not_null|auditoria_recibos|CHECK
2200_425847_3_not_null|auditoria_recibos|CHECK
2200_425847_4_not_null|auditoria_recibos|CHECK
2200_425847_7_not_null|auditoria_recibos|CHECK
auditoria_recibos_pkey|auditoria_recibos|PRIMARY KEY
auditoria_recibos_recibo_id_fkey|auditoria_recibos|FOREIGN KEY
2200_420023_1_not_null|avaliacao_resets|CHECK
2200_420023_2_not_null|avaliacao_resets|CHECK
2200_420023_3_not_null|avaliacao_resets|CHECK
2200_420023_4_not_null|avaliacao_resets|CHECK
2200_420023_5_not_null|avaliacao_resets|CHECK
2200_420023_6_not_null|avaliacao_resets|CHECK
2200_420023_8_not_null|avaliacao_resets|CHECK
avaliacao_resets_avaliacao_id_fkey|avaliacao_resets|FOREIGN KEY
avaliacao_resets_lote_id_fkey|avaliacao_resets|FOREIGN KEY
avaliacao_resets_pkey|avaliacao_resets|PRIMARY KEY
2200_420031_1_not_null|avaliacoes|CHECK
2200_420031_2_not_null|avaliacoes|CHECK
avaliacoes_funcionario_cpf_fkey|avaliacoes|FOREIGN KEY
avaliacoes_lote_id_fkey|avaliacoes|FOREIGN KEY
avaliacoes_pkey|avaliacoes|PRIMARY KEY
avaliacoes_status_check|avaliacoes|CHECK
fk_avaliacoes_funcionario|avaliacoes|FOREIGN KEY
2200_425630_1_not_null|clinica_configuracoes|CHECK
2200_425630_2_not_null|clinica_configuracoes|CHECK
clinica_configuracoes_clinica_id_fkey|clinica_configuracoes|FOREIGN KEY
clinica_configuracoes_cor_primaria_check|clinica_configuracoes|CHECK
clinica_configuracoes_cor_secundaria_check|clinica_configuracoes|CHECK
clinica_configuracoes_formato_data_preferencial_check|clinica_configuracoes|CHECK
clinica_configuracoes_pkey|clinica_configuracoes|PRIMARY KEY
unique_clinica_config|clinica_configuracoes|UNIQUE
2200_420048_1_not_null|clinicas|CHECK
2200_420048_2_not_null|clinicas|CHECK
clinicas_cnpj_key|clinicas|UNIQUE
clinicas_pkey|clinicas|PRIMARY KEY
unique_clinica_contratante|clinicas|UNIQUE
2200_420056_1_not_null|clinicas_empresas|CHECK
2200_420056_2_not_null|clinicas_empresas|CHECK
clinicas_empresas_clinica_id_fkey|clinicas_empresas|FOREIGN KEY
clinicas_empresas_empresa_id_fkey|clinicas_empresas|FOREIGN KEY
clinicas_empresas_pkey|clinicas_empresas|PRIMARY KEY
2200_420068_10_not_null|contratantes|CHECK
2200_420068_11_not_null|contratantes|CHECK
2200_420068_12_not_null|contratantes|CHECK
2200_420068_13_not_null|contratantes|CHECK
2200_420068_15_not_null|contratantes|CHECK
2200_420068_16_not_null|contratantes|CHECK
2200_420068_1_not_null|contratantes|CHECK
2200_420068_2_not_null|contratantes|CHECK
2200_420068_3_not_null|contratantes|CHECK
2200_420068_4_not_null|contratantes|CHECK
2200_420068_6_not_null|contratantes|CHECK
2200_420068_7_not_null|contratantes|CHECK
2200_420068_8_not_null|contratantes|CHECK
2200_420068_9_not_null|contratantes|CHECK
chk_contratantes_tipo_valido|contratantes|CHECK
contratantes_cnpj_unique|contratantes|UNIQUE
contratantes_email_unique|contratantes|UNIQUE
contratantes_estado_check|contratantes|CHECK
contratantes_pkey|contratantes|PRIMARY KEY
contratantes_plano_id_fkey|contratantes|FOREIGN KEY
contratantes_responsavel_cpf_check|contratantes|CHECK
contratantes_responsavel_cpf_unique|contratantes|UNIQUE
2200_420081_1_not_null|entidades_senhas|CHECK
2200_420081_2_not_null|entidades_senhas|CHECK
2200_420081_3_not_null|entidades_senhas|CHECK
2200_420081_4_not_null|entidades_senhas|CHECK
entidades_senhas_cpf_check|entidades_senhas|CHECK
entidades_senhas_cpf_key|entidades_senhas|UNIQUE
entidades_senhas_pkey|entidades_senhas|PRIMARY KEY
fk_entidades_senhas_contratante|entidades_senhas|FOREIGN KEY
2200_425731_1_not_null|entidades_senhas_audit|CHECK
2200_425731_2_not_null|entidades_senhas_audit|CHECK
2200_425731_3_not_null|entidades_senhas_audit|CHECK
2200_425731_4_not_null|entidades_senhas_audit|CHECK
2200_425731_8_not_null|entidades_senhas_audit|CHECK
chk_operacao|entidades_senhas_audit|CHECK
entidades_senhas_audit_pkey|entidades_senhas_audit|PRIMARY KEY
2200_420092_1_not_null|contratos|CHECK
2200_420092_2_not_null|contratos|CHECK
2200_420092_6_not_null|contratos|CHECK
2200_420092_7_not_null|contratos|CHECK
2200_420092_8_not_null|contratos|CHECK
contratos_contratante_id_fkey|contratos|FOREIGN KEY
contratos_pkey|contratos|PRIMARY KEY
contratos_plano_id_fkey|contratos|FOREIGN KEY
2200_420102_1_not_null|contratos_planos|CHECK
2200_420102_5_not_null|contratos_planos|CHECK
2200_420102_7_not_null|contratos_planos|CHECK
chk_contratos_planos_tipo_contratante_valido|contratos_planos|CHECK
contratos_planos_clinica_id_fkey|contratos_planos|FOREIGN KEY
contratos_planos_clinica_or_contratante|contratos_planos|CHECK
contratos_planos_contratante_id_fkey|contratos_planos|FOREIGN KEY
contratos_planos_modalidade_pagamento_check|contratos_planos|CHECK
contratos_planos_pkey|contratos_planos|PRIMARY KEY
contratos_planos_plano_id_fkey|contratos_planos|FOREIGN KEY
contratos_planos_tipo_contratante_check|contratos_planos|CHECK
contratos_planos_tipo_pagamento_check|contratos_planos|CHECK
2200_420111_1_not_null|emissao_queue|CHECK
2200_420111_2_not_null|emissao_queue|CHECK
2200_420111_3_not_null|emissao_queue|CHECK
2200_420111_5_not_null|emissao_queue|CHECK
2200_420111_6_not_null|emissao_queue|CHECK
2200_420111_7_not_null|emissao_queue|CHECK
emissao_queue_lote_id_fkey|emissao_queue|FOREIGN KEY
emissao_queue_pkey|emissao_queue|PRIMARY KEY
2200_420121_1_not_null|empresas_clientes|CHECK
2200_420121_2_not_null|empresas_clientes|CHECK
2200_420121_3_not_null|empresas_clientes|CHECK
empresas_clientes_clinica_id_fkey|empresas_clientes|FOREIGN KEY
empresas_clientes_cnpj_key|empresas_clientes|UNIQUE
empresas_clientes_contratante_id_fkey|empresas_clientes|FOREIGN KEY
empresas_clientes_parent_check|empresas_clientes|CHECK
empresas_clientes_pkey|empresas_clientes|PRIMARY KEY
fk_empresas_clinica|empresas_clientes|FOREIGN KEY
2200_425452_1_not_null|fila_emissao|CHECK
2200_425452_2_not_null|fila_emissao|CHECK
fila_emissao_lote_id_fkey1|fila_emissao|FOREIGN KEY
fila_emissao_pkey1|fila_emissao|PRIMARY KEY
2200_420145_1_not_null|funcionarios|CHECK
2200_420145_26_not_null|funcionarios|CHECK
2200_420145_27_not_null|funcionarios|CHECK
2200_420145_2_not_null|funcionarios|CHECK
2200_420145_3_not_null|funcionarios|CHECK
2200_420145_7_not_null|funcionarios|CHECK
fk_funcionarios_clinica|funcionarios|FOREIGN KEY
fk_funcionarios_contratante|funcionarios|FOREIGN KEY
fk_funcionarios_ultima_avaliacao|funcionarios|FOREIGN KEY
funcionarios_clinica_check|funcionarios|CHECK
funcionarios_clinica_id_check|funcionarios|CHECK
funcionarios_clinica_id_fkey|funcionarios|FOREIGN KEY
funcionarios_cpf_key|funcionarios|UNIQUE
funcionarios_empresa_id_fkey|funcionarios|FOREIGN KEY
funcionarios_matricula_key|funcionarios|UNIQUE
funcionarios_nivel_cargo_check|funcionarios|CHECK
funcionarios_owner_check|funcionarios|CHECK
funcionarios_perfil_check|funcionarios|CHECK
funcionarios_pkey|funcionarios|PRIMARY KEY
funcionarios_usuario_tipo_exclusivo|funcionarios|CHECK
no_gestor_in_funcionarios|funcionarios|CHECK
2200_420157_1_not_null|laudo_arquivos_remotos|CHECK
2200_420157_2_not_null|laudo_arquivos_remotos|CHECK
2200_420157_3_not_null|laudo_arquivos_remotos|CHECK
2200_420157_4_not_null|laudo_arquivos_remotos|CHECK
2200_420157_5_not_null|laudo_arquivos_remotos|CHECK
2200_420157_6_not_null|laudo_arquivos_remotos|CHECK
laudo_arquivos_remotos_laudo_id_fkey|laudo_arquivos_remotos|FOREIGN KEY
laudo_arquivos_remotos_pkey|laudo_arquivos_remotos|PRIMARY KEY
2200_420165_1_not_null|laudo_downloads|CHECK
2200_420165_2_not_null|laudo_downloads|CHECK
laudo_downloads_arquivo_remoto_id_fkey|laudo_downloads|FOREIGN KEY
laudo_downloads_laudo_id_fkey|laudo_downloads|FOREIGN KEY
laudo_downloads_pkey|laudo_downloads|PRIMARY KEY
2200_420172_10_not_null|laudo_generation_jobs|CHECK
2200_420172_1_not_null|laudo_generation_jobs|CHECK
2200_420172_2_not_null|laudo_generation_jobs|CHECK
2200_420172_4_not_null|laudo_generation_jobs|CHECK
2200_420172_5_not_null|laudo_generation_jobs|CHECK
2200_420172_6_not_null|laudo_generation_jobs|CHECK
2200_420172_9_not_null|laudo_generation_jobs|CHECK
laudo_generation_jobs_lote_id_fkey|laudo_generation_jobs|FOREIGN KEY
laudo_generation_jobs_pkey|laudo_generation_jobs|PRIMARY KEY
2200_420184_1_not_null|laudos|CHECK
2200_420184_2_not_null|laudos|CHECK
chk_laudos_emitido_antes_enviado|laudos|CHECK
chk_laudos_emitido_em_emissor_cpf|laudos|CHECK
chk_laudos_hash_pdf_valid|laudos|CHECK
chk_laudos_status_valid|laudos|CHECK
fk_laudos_emissor_cpf|laudos|FOREIGN KEY
fk_laudos_lote|laudos|FOREIGN KEY
fk_laudos_lote_id|laudos|FOREIGN KEY
laudos_emissor_cpf_fkey|laudos|FOREIGN KEY
laudos_emissor_cpf_fkey1|laudos|FOREIGN KEY
laudos_id_equals_lote_id|laudos|CHECK
laudos_lote_emissor_unique|laudos|UNIQUE
laudos_lote_id_fkey|laudos|FOREIGN KEY
laudos_lote_id_unique|laudos|UNIQUE
laudos_pkey|laudos|PRIMARY KEY
2200_425790_1_not_null|logs_admin|CHECK
2200_425790_2_not_null|logs_admin|CHECK
2200_425790_3_not_null|logs_admin|CHECK
logs_admin_pkey|logs_admin|PRIMARY KEY
2200_420196_1_not_null|lote_id_allocator|CHECK
2200_420199_15_not_null|lotes_avaliacao|CHECK
2200_420199_1_not_null|lotes_avaliacao|CHECK
fk_lotes_clinica|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_clinica_id_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_clinica_or_contratante_check|lotes_avaliacao|CHECK
lotes_avaliacao_contratante_id_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_empresa_id_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_empresa_numero_ordem_unique|lotes_avaliacao|UNIQUE
lotes_avaliacao_liberado_por_fkey|lotes_avaliacao|FOREIGN KEY
lotes_avaliacao_pkey|lotes_avaliacao|PRIMARY KEY
lotes_avaliacao_status_check|lotes_avaliacao|CHECK
lotes_avaliacao_tipo_check|lotes_avaliacao|CHECK
2200_420218_1_not_null|mfa_codes|CHECK
2200_420218_2_not_null|mfa_codes|CHECK
2200_420218_3_not_null|mfa_codes|CHECK
2200_420218_4_not_null|mfa_codes|CHECK
fk_mfa_funcionarios|mfa_codes|FOREIGN KEY
mfa_codes_pkey|mfa_codes|PRIMARY KEY
2200_420224_1_not_null|migration_guidelines|CHECK
2200_420224_2_not_null|migration_guidelines|CHECK
2200_420224_3_not_null|migration_guidelines|CHECK
migration_guidelines_pkey|migration_guidelines|PRIMARY KEY
2200_423581_17_not_null|notificacoes|CHECK
2200_423581_1_not_null|notificacoes|CHECK
2200_423581_2_not_null|notificacoes|CHECK
2200_423581_4_not_null|notificacoes|CHECK
2200_423581_5_not_null|notificacoes|CHECK
2200_423581_6_not_null|notificacoes|CHECK
2200_423581_7_not_null|notificacoes|CHECK
notificacao_destinatario_valido|notificacoes|CHECK
notificacoes_destinatario_tipo_check|notificacoes|CHECK
notificacoes_pkey|notificacoes|PRIMARY KEY
2200_420231_1_not_null|notificacoes_admin|CHECK
2200_420231_2_not_null|notificacoes_admin|CHECK
2200_420231_3_not_null|notificacoes_admin|CHECK
2200_420231_7_not_null|notificacoes_admin|CHECK
fk_notificacoes_contratante|notificacoes_admin|FOREIGN KEY
fk_notificacoes_contrato|notificacoes_admin|FOREIGN KEY
fk_notificacoes_pagamento|notificacoes_admin|FOREIGN KEY
notificacoes_admin_lote_id_fkey|notificacoes_admin|FOREIGN KEY
notificacoes_admin_pkey|notificacoes_admin|PRIMARY KEY
2200_425688_1_not_null|notificacoes_traducoes|CHECK
2200_425688_2_not_null|notificacoes_traducoes|CHECK
2200_425688_3_not_null|notificacoes_traducoes|CHECK
2200_425688_4_not_null|notificacoes_traducoes|CHECK
2200_425688_5_not_null|notificacoes_traducoes|CHECK
notificacoes_traducoes_categoria_check|notificacoes_traducoes|CHECK
notificacoes_traducoes_pkey|notificacoes_traducoes|PRIMARY KEY
unique_traducao|notificacoes_traducoes|UNIQUE
2200_420239_1_not_null|pagamentos|CHECK
2200_420239_2_not_null|pagamentos|CHECK
2200_420239_3_not_null|pagamentos|CHECK
check_numero_parcelas|pagamentos|CHECK
pagamentos_contrato_id_fkey|pagamentos|FOREIGN KEY
pagamentos_idempotency_key_key|pagamentos|UNIQUE
pagamentos_pkey|pagamentos|PRIMARY KEY
2200_426032_1_not_null|payment_links|CHECK
2200_426032_2_not_null|payment_links|CHECK
2200_426032_3_not_null|payment_links|CHECK
2200_426032_5_not_null|payment_links|CHECK
2200_426032_8_not_null|payment_links|CHECK
payment_links_contrato_id_fkey|payment_links|FOREIGN KEY
payment_links_pkey|payment_links|PRIMARY KEY
payment_links_token_key|payment_links|UNIQUE
2200_425804_1_not_null|pdf_jobs|CHECK
2200_425804_2_not_null|pdf_jobs|CHECK
2200_425804_3_not_null|pdf_jobs|CHECK
2200_425804_4_not_null|pdf_jobs|CHECK
2200_425804_5_not_null|pdf_jobs|CHECK
2200_425804_7_not_null|pdf_jobs|CHECK
2200_425804_8_not_null|pdf_jobs|CHECK
pdf_jobs_pkey|pdf_jobs|PRIMARY KEY
pdf_jobs_recibo_id_fkey|pdf_jobs|FOREIGN KEY
pdf_jobs_recibo_id_key|pdf_jobs|UNIQUE
pdf_jobs_status_check|pdf_jobs|CHECK
2200_420249_1_not_null|permissions|CHECK
2200_420249_2_not_null|permissions|CHECK
2200_420249_3_not_null|permissions|CHECK
2200_420249_4_not_null|permissions|CHECK
permissions_name_key|permissions|UNIQUE
permissions_pkey|permissions|PRIMARY KEY
2200_420256_1_not_null|planos|CHECK
2200_420256_2_not_null|planos|CHECK
2200_420256_3_not_null|planos|CHECK
planos_pkey|planos|PRIMARY KEY
2200_420265_1_not_null|policy_expression_backups|CHECK
2200_420265_2_not_null|policy_expression_backups|CHECK
2200_420265_3_not_null|policy_expression_backups|CHECK
2200_420265_4_not_null|policy_expression_backups|CHECK
policy_expression_backups_pkey|policy_expression_backups|PRIMARY KEY
2200_420272_1_not_null|questao_condicoes|CHECK
2200_420272_2_not_null|questao_condicoes|CHECK
questao_condicoes_pkey|questao_condicoes|PRIMARY KEY
2200_420279_11_not_null|recibos|CHECK
2200_420279_1_not_null|recibos|CHECK
2200_420279_26_not_null|recibos|CHECK
2200_420279_2_not_null|recibos|CHECK
2200_420279_3_not_null|recibos|CHECK
2200_420279_5_not_null|recibos|CHECK
2200_420279_6_not_null|recibos|CHECK
2200_420279_7_not_null|recibos|CHECK
2200_420279_8_not_null|recibos|CHECK
2200_420279_9_not_null|recibos|CHECK
fk_recibos_clinica|recibos|FOREIGN KEY
fk_recibos_contratante|recibos|FOREIGN KEY
fk_recibos_contrato|recibos|FOREIGN KEY
fk_recibos_pagamento|recibos|FOREIGN KEY
recibos_contratante_ou_clinica_check|recibos|CHECK
recibos_numero_funcionarios_check|recibos|CHECK
recibos_numero_parcelas_check|recibos|CHECK
recibos_numero_recibo_key|recibos|UNIQUE
recibos_pagamento_id_unique|recibos|UNIQUE
recibos_pkey|recibos|PRIMARY KEY
recibos_valor_funcionario_check|recibos|CHECK
recibos_valor_total_check|recibos|CHECK
recibos_vigencia_check|recibos|CHECK
2200_420295_1_not_null|relatorio_templates|CHECK
2200_420295_2_not_null|relatorio_templates|CHECK
2200_420295_3_not_null|relatorio_templates|CHECK
relatorio_templates_pkey|relatorio_templates|PRIMARY KEY
relatorio_templates_tipo_check|relatorio_templates|CHECK
2200_420306_1_not_null|respostas|CHECK
2200_420306_2_not_null|respostas|CHECK
2200_420306_3_not_null|respostas|CHECK
2200_420306_4_not_null|respostas|CHECK
2200_420306_5_not_null|respostas|CHECK
fk_respostas_avaliacao|respostas|FOREIGN KEY
respostas_avaliacao_id_fkey|respostas|FOREIGN KEY
respostas_avaliacao_id_grupo_item_key|respostas|UNIQUE
respostas_pkey|respostas|PRIMARY KEY
respostas_valor_check|respostas|CHECK
2200_420312_1_not_null|resultados|CHECK
2200_420312_2_not_null|resultados|CHECK
2200_420312_3_not_null|resultados|CHECK
2200_420312_4_not_null|resultados|CHECK
2200_420312_5_not_null|resultados|CHECK
fk_resultados_avaliacao|resultados|FOREIGN KEY
resultados_avaliacao_id_fkey|resultados|FOREIGN KEY
resultados_avaliacao_id_grupo_key|resultados|UNIQUE
resultados_categoria_check|resultados|CHECK
resultados_pkey|resultados|PRIMARY KEY
2200_420318_1_not_null|role_permissions|CHECK
2200_420318_2_not_null|role_permissions|CHECK
role_permissions_permission_id_fkey|role_permissions|FOREIGN KEY
role_permissions_pkey|role_permissions|PRIMARY KEY
role_permissions_role_id_fkey|role_permissions|FOREIGN KEY
2200_420322_1_not_null|roles|CHECK
2200_420322_2_not_null|roles|CHECK
2200_420322_3_not_null|roles|CHECK
roles_name_key|roles|UNIQUE
roles_pkey|roles|PRIMARY KEY
2200_425400_11_not_null|session_logs|CHECK
2200_425400_1_not_null|session_logs|CHECK
2200_425400_2_not_null|session_logs|CHECK
2200_425400_3_not_null|session_logs|CHECK
2200_425400_6_not_null|session_logs|CHECK
session_logs_pkey|session_logs|PRIMARY KEY
2200_425658_1_not_null|templates_contrato|CHECK
2200_425658_2_not_null|templates_contrato|CHECK
2200_425658_4_not_null|templates_contrato|CHECK
2200_425658_5_not_null|templates_contrato|CHECK
templates_contrato_nome_key|templates_contrato|UNIQUE
templates_contrato_pkey|templates_contrato|PRIMARY KEY
templates_contrato_tipo_template_check|templates_contrato|CHECK
2200_425764_1_not_null|tokens_retomada_pagamento|CHECK
2200_425764_2_not_null|tokens_retomada_pagamento|CHECK
2200_425764_3_not_null|tokens_retomada_pagamento|CHECK
2200_425764_4_not_null|tokens_retomada_pagamento|CHECK
2200_425764_7_not_null|tokens_retomada_pagamento|CHECK
chk_token_expiracao|tokens_retomada_pagamento|CHECK
fk_tokens_contratante|tokens_retomada_pagamento|FOREIGN KEY
fk_tokens_contrato|tokens_retomada_pagamento|FOREIGN KEY
tokens_retomada_pagamento_pkey|tokens_retomada_pagamento|PRIMARY KEY
tokens_retomada_pagamento_token_key|tokens_retomada_pagamento|UNIQUE
2200_423618_1_not_null|usuarios|CHECK
2200_423618_2_not_null|usuarios|CHECK
2200_423618_4_not_null|usuarios|CHECK
usuarios_cpf_key|usuarios|UNIQUE
usuarios_pkey|usuarios|PRIMARY KEY
```

### ⚠️ Diferenças:

**Constraints faltando em PRODUÇÃO:**

- 2200_420131_1_not_null
- 2200_420131_2_not_null
- 2200_425284_1_not_null
- 2200_425284_2_not_null
- 2200_425284_3_not_null
- \_migration_issues_pkey
- 2200_419982_1_not_null
- 2200_419990_10_not_null
- 2200_419990_1_not_null
- 2200_419990_4_not_null
- 2200_419990_5_not_null
- 2200_419997_12_not_null
- 2200_419997_1_not_null
- 2200_419997_4_not_null
- 2200_419997_5_not_null
- 2200_420009_13_not_null
- 2200_420009_1_not_null
- 2200_420009_2_not_null
- 2200_420009_3_not_null
- 2200_420009_4_not_null
- 2200_425568_1_not_null
- 2200_425568_2_not_null
- 2200_425568_3_not_null
- 2200_420016_10_not_null
- 2200_420016_1_not_null
- 2200_420016_2_not_null
- 2200_420016_6_not_null
- 2200_420016_7_not_null
- chk_solicitation_has_requester
- chk_status_valid
- chk_tipo_solicitante_valid
- fk_auditoria_laudos_lote_id
- 2200_425847_1_not_null
- 2200_425847_2_not_null
- 2200_425847_3_not_null
- 2200_425847_4_not_null
- 2200_425847_7_not_null
- 2200_420023_1_not_null
- 2200_420023_2_not_null
- 2200_420023_3_not_null
- 2200_420023_4_not_null
- 2200_420023_5_not_null
- 2200_420023_6_not_null
- 2200_420023_8_not_null
- 2200_420031_1_not_null
- 2200_420031_2_not_null
- 2200_425630_1_not_null
- 2200_425630_2_not_null
- 2200_420048_1_not_null
- 2200_420048_2_not_null
- 2200_420056_1_not_null
- 2200_420056_2_not_null
- 2200_420068_10_not_null
- 2200_420068_11_not_null
- 2200_420068_12_not_null
- 2200_420068_13_not_null
- 2200_420068_15_not_null
- 2200_420068_16_not_null
- 2200_420068_1_not_null
- 2200_420068_2_not_null
- 2200_420068_3_not_null
- 2200_420068_4_not_null
- 2200_420068_6_not_null
- 2200_420068_7_not_null
- 2200_420068_8_not_null
- 2200_420068_9_not_null
- 2200_420081_1_not_null
- 2200_420081_2_not_null
- 2200_420081_3_not_null
- 2200_420081_4_not_null
- 2200_425731_1_not_null
- 2200_425731_2_not_null
- 2200_425731_3_not_null
- 2200_425731_4_not_null
- 2200_425731_8_not_null
- 2200_420092_1_not_null
- 2200_420092_2_not_null
- 2200_420092_6_not_null
- 2200_420092_7_not_null
- 2200_420092_8_not_null
- 2200_420102_1_not_null
- 2200_420102_5_not_null
- 2200_420102_7_not_null
- 2200_420111_1_not_null
- 2200_420111_2_not_null
- 2200_420111_3_not_null
- 2200_420111_5_not_null
- 2200_420111_6_not_null
- 2200_420111_7_not_null
- 2200_420121_1_not_null
- 2200_420121_2_not_null
- 2200_420121_3_not_null
- empresas_clientes_contratante_id_fkey
- empresas_clientes_parent_check
- 2200_425452_1_not_null
- 2200_425452_2_not_null
- fila_emissao_lote_id_fkey1
- fila_emissao_pkey1
- 2200_420145_1_not_null
- 2200_420145_26_not_null
- 2200_420145_27_not_null
- 2200_420145_2_not_null
- 2200_420145_3_not_null
- 2200_420145_7_not_null
- funcionarios_clinica_id_check
- funcionarios_owner_check
- funcionarios_usuario_tipo_exclusivo
- 2200_420157_1_not_null
- 2200_420157_2_not_null
- 2200_420157_3_not_null
- 2200_420157_4_not_null
- 2200_420157_5_not_null
- 2200_420157_6_not_null
- 2200_420165_1_not_null
- 2200_420165_2_not_null
- 2200_420172_10_not_null
- 2200_420172_1_not_null
- 2200_420172_2_not_null
- 2200_420172_4_not_null
- 2200_420172_5_not_null
- 2200_420172_6_not_null
- 2200_420172_9_not_null
- 2200_420184_1_not_null
- 2200_420184_2_not_null
- chk_laudos_emitido_antes_enviado
- chk_laudos_hash_pdf_valid
- chk_laudos_status_valid
- fk_laudos_emissor_cpf
- fk_laudos_lote_id
- 2200_425790_1_not_null
- 2200_425790_2_not_null
- 2200_425790_3_not_null
- 2200_420196_1_not_null
- 2200_420199_15_not_null
- 2200_420199_1_not_null
- 2200_420218_1_not_null
- 2200_420218_2_not_null
- 2200_420218_3_not_null
- 2200_420218_4_not_null
- 2200_420224_1_not_null
- 2200_420224_2_not_null
- 2200_420224_3_not_null
- 2200_423581_17_not_null
- 2200_423581_1_not_null
- 2200_423581_2_not_null
- 2200_423581_4_not_null
- 2200_423581_5_not_null
- 2200_423581_6_not_null
- 2200_423581_7_not_null
- 2200_420231_1_not_null
- 2200_420231_2_not_null
- 2200_420231_3_not_null
- 2200_420231_7_not_null
- 2200_425688_1_not_null
- 2200_425688_2_not_null
- 2200_425688_3_not_null
- 2200_425688_4_not_null
- 2200_425688_5_not_null
- 2200_420239_1_not_null
- 2200_420239_2_not_null
- 2200_420239_3_not_null
- 2200_426032_1_not_null
- 2200_426032_2_not_null
- 2200_426032_3_not_null
- 2200_426032_5_not_null
- 2200_426032_8_not_null
- 2200_425804_1_not_null
- 2200_425804_2_not_null
- 2200_425804_3_not_null
- 2200_425804_4_not_null
- 2200_425804_5_not_null
- 2200_425804_7_not_null
- 2200_425804_8_not_null
- 2200_420249_1_not_null
- 2200_420249_2_not_null
- 2200_420249_3_not_null
- 2200_420249_4_not_null
- 2200_420256_1_not_null
- 2200_420256_2_not_null
- 2200_420256_3_not_null
- 2200_420265_1_not_null
- 2200_420265_2_not_null
- 2200_420265_3_not_null
- 2200_420265_4_not_null
- 2200_420272_1_not_null
- 2200_420272_2_not_null
- 2200_420279_11_not_null
- 2200_420279_1_not_null
- 2200_420279_26_not_null
- 2200_420279_2_not_null
- 2200_420279_3_not_null
- 2200_420279_5_not_null
- 2200_420279_6_not_null
- 2200_420279_7_not_null
- 2200_420279_8_not_null
- 2200_420279_9_not_null
- 2200_420295_1_not_null
- 2200_420295_2_not_null
- 2200_420295_3_not_null
- 2200_420306_1_not_null
- 2200_420306_2_not_null
- 2200_420306_3_not_null
- 2200_420306_4_not_null
- 2200_420306_5_not_null
- 2200_420312_1_not_null
- 2200_420312_2_not_null
- 2200_420312_3_not_null
- 2200_420312_4_not_null
- 2200_420312_5_not_null
- 2200_420318_1_not_null
- 2200_420318_2_not_null
- 2200_420322_1_not_null
- 2200_420322_2_not_null
- 2200_420322_3_not_null
- 2200_425400_11_not_null
- 2200_425400_1_not_null
- 2200_425400_2_not_null
- 2200_425400_3_not_null
- 2200_425400_6_not_null
- 2200_425658_1_not_null
- 2200_425658_2_not_null
- 2200_425658_4_not_null
- 2200_425658_5_not_null
- 2200_425764_1_not_null
- 2200_425764_2_not_null
- 2200_425764_3_not_null
- 2200_425764_4_not_null
- 2200_425764_7_not_null
- 2200_423618_1_not_null
- 2200_423618_2_not_null
- 2200_423618_4_not_null

**Constraints extras em PRODUÇÃO:**

- 450562_451195_1_not_null
- 450562_451195_2_not_null
- 450562_450568_1_not_null
- 450562_451089_10_not_null
- 450562_451089_1_not_null
- 450562_451089_4_not_null
- 450562_451089_5_not_null
- 450562_451096_12_not_null
- 450562_451096_1_not_null
- 450562_451096_4_not_null
- 450562_451096_5_not_null
- 450562_451108_13_not_null
- 450562_451108_1_not_null
- 450562_451108_2_not_null
- 450562_451108_3_not_null
- 450562_451108_4_not_null
- 450562_467206_1_not_null
- 450562_467206_2_not_null
- 450562_467206_3_not_null
- 450562_451115_10_not_null
- 450562_451115_1_not_null
- 450562_451115_2_not_null
- 450562_451115_6_not_null
- 450562_451115_7_not_null
- 450562_467483_1_not_null
- 450562_467483_2_not_null
- 450562_467483_3_not_null
- 450562_467483_4_not_null
- 450562_467483_7_not_null
- 450562_451122_1_not_null
- 450562_451122_2_not_null
- 450562_451122_3_not_null
- 450562_451122_4_not_null
- 450562_451122_5_not_null
- 450562_451122_6_not_null
- 450562_451122_8_not_null
- 450562_450576_1_not_null
- 450562_450576_2_not_null
- 450562_467265_1_not_null
- 450562_467265_2_not_null
- 450562_450586_1_not_null
- 450562_450586_2_not_null
- fk_clinicas_contratante
- 450562_450594_1_not_null
- 450562_450594_2_not_null
- 450562_467528_1_not_null
- contratacao_personalizada_contratante_id_fkey
- contratacao_personalizada_pkey
- 450562_451142_10_not_null
- 450562_451142_11_not_null
- 450562_451142_12_not_null
- 450562_451142_13_not_null
- 450562_451142_15_not_null
- 450562_451142_16_not_null
- 450562_451142_1_not_null
- 450562_451142_2_not_null
- 450562_451142_3_not_null
- 450562_451142_4_not_null
- 450562_451142_6_not_null
- 450562_451142_7_not_null
- 450562_451142_8_not_null
- 450562_451142_9_not_null
- 450562_451155_1_not_null
- 450562_451155_2_not_null
- 450562_451155_3_not_null
- 450562_451155_4_not_null
- 450562_467368_1_not_null
- 450562_467368_2_not_null
- 450562_467368_3_not_null
- 450562_467368_4_not_null
- 450562_467368_8_not_null
- 450562_451166_1_not_null
- 450562_451166_2_not_null
- 450562_451166_6_not_null
- 450562_451166_7_not_null
- 450562_451166_8_not_null
- 450562_451176_1_not_null
- 450562_451176_5_not_null
- 450562_451176_7_not_null
- 450562_451185_1_not_null
- 450562_451185_2_not_null
- 450562_451185_3_not_null
- 450562_451185_5_not_null
- 450562_451185_6_not_null
- 450562_451185_7_not_null
- 450562_450599_11_not_null
- 450562_450599_1_not_null
- 450562_450599_2_not_null
- 450562_450599_3_not_null
- 450562_450608_1_not_null
- 450562_450608_28_not_null
- 450562_450608_2_not_null
- 450562_450608_31_not_null
- 450562_450608_3_not_null
- 450562_450608_7_not_null
- 450562_451209_1_not_null
- 450562_451209_2_not_null
- 450562_451209_3_not_null
- 450562_451209_4_not_null
- 450562_451209_5_not_null
- 450562_451209_6_not_null
- 450562_451217_1_not_null
- 450562_451217_2_not_null
- 450562_451224_10_not_null
- 450562_451224_1_not_null
- 450562_451224_2_not_null
- 450562_451224_4_not_null
- 450562_451224_5_not_null
- 450562_451224_6_not_null
- 450562_451224_9_not_null
- 450562_450620_1_not_null
- 450562_450620_2_not_null
- laudos_status_check
- 450562_467426_1_not_null
- 450562_467426_2_not_null
- 450562_467426_3_not_null
- 450562_451236_1_not_null
- 450562_450630_15_not_null
- 450562_450630_1_not_null
- 450562_451240_1_not_null
- 450562_451240_2_not_null
- 450562_451240_3_not_null
- 450562_451240_4_not_null
- 450562_451246_1_not_null
- 450562_451246_2_not_null
- 450562_451246_3_not_null
- 450562_467166_17_not_null
- 450562_467166_1_not_null
- 450562_467166_2_not_null
- 450562_467166_4_not_null
- 450562_467166_5_not_null
- 450562_467166_6_not_null
- 450562_467166_7_not_null
- 450562_451254_1_not_null
- 450562_451254_2_not_null
- 450562_451254_3_not_null
- 450562_451254_7_not_null
- 450562_467324_1_not_null
- 450562_467324_2_not_null
- 450562_467324_3_not_null
- 450562_467324_4_not_null
- 450562_467324_5_not_null
- 450562_451262_1_not_null
- 450562_451262_2_not_null
- 450562_451262_3_not_null
- 450562_467674_1_not_null
- 450562_467674_2_not_null
- 450562_467674_3_not_null
- 450562_467674_5_not_null
- 450562_467674_8_not_null
- 450562_467440_1_not_null
- 450562_467440_2_not_null
- 450562_467440_3_not_null
- 450562_467440_4_not_null
- 450562_467440_5_not_null
- 450562_467440_7_not_null
- 450562_467440_8_not_null
- 450562_451273_1_not_null
- 450562_451273_2_not_null
- 450562_451273_3_not_null
- 450562_451273_4_not_null
- 450562_451280_1_not_null
- 450562_451280_2_not_null
- 450562_451280_3_not_null
- 450562_451289_1_not_null
- 450562_451289_2_not_null
- 450562_451289_3_not_null
- 450562_451289_4_not_null
- 450562_450647_1_not_null
- 450562_450647_2_not_null
- 450562_451296_11_not_null
- 450562_451296_1_not_null
- 450562_451296_26_not_null
- 450562_451296_2_not_null
- 450562_451296_3_not_null
- 450562_451296_5_not_null
- 450562_451296_6_not_null
- 450562_451296_7_not_null
- 450562_451296_8_not_null
- 450562_451296_9_not_null
- 450562_450654_1_not_null
- 450562_450654_2_not_null
- 450562_450654_3_not_null
- 450562_450665_1_not_null
- 450562_450665_2_not_null
- 450562_450665_3_not_null
- 450562_450665_4_not_null
- 450562_450665_5_not_null
- 450562_450671_1_not_null
- 450562_450671_2_not_null
- 450562_450671_3_not_null
- 450562_450671_4_not_null
- 450562_450671_5_not_null
- 450562_451312_1_not_null
- 450562_451312_2_not_null
- 450562_451316_1_not_null
- 450562_451316_2_not_null
- 450562_451316_3_not_null
- 450562_466955_11_not_null
- 450562_466955_1_not_null
- 450562_466955_2_not_null
- 450562_466955_3_not_null
- 450562_466955_6_not_null
- 450562_467293_1_not_null
- 450562_467293_2_not_null
- 450562_467293_4_not_null
- 450562_467293_5_not_null
- 450562_467400_1_not_null
- 450562_467400_2_not_null
- 450562_467400_3_not_null
- 450562_467400_4_not_null
- 450562_467400_7_not_null
- 450562_467568_1_not_null
- 450562_467568_2_not_null
- 450562_467568_4_not_null

## 5. TABELAS

### Tabelas em PRODUÇÃO (53):

```
_backup_fila_emissao_20260204
_deprecated_fila_emissao
analise_estatistica
audit_access_denied
audit_logs
auditoria
auditoria_geral
auditoria_laudos
auditoria_recibos
avaliacao_resets
avaliacoes
backup_lotes_migracao_20260130
clinica_configuracoes
clinicas
clinicas_empresas
contratacao_personalizada
contratantes
entidades_senhas
entidades_senhas_audit
contratos
contratos_planos
emissao_queue
empresas_clientes
funcionarios
laudo_arquivos_remotos
laudo_downloads
laudo_generation_jobs
laudos
logs_admin
lote_id_allocator
lotes_avaliacao
mfa_codes
migration_guidelines
notificacoes
notificacoes_admin
notificacoes_traducoes
pagamentos
payment_links
pdf_jobs
permissions
planos
policy_expression_backups
questao_condicoes
recibos
relatorio_templates
respostas
resultados
role_permissions
roles
session_logs
templates_contrato
tokens_retomada_pagamento
usuarios
```

### Tabelas em DESENVOLVIMENTO (54):

```
_backup_fila_emissao_20260204
_deprecated_fila_emissao
_migration_issues
analise_estatistica
audit_access_denied
audit_logs
auditoria
auditoria_geral
auditoria_laudos
auditoria_recibos
avaliacao_resets
avaliacoes
backup_lotes_migracao_20260130
clinica_configuracoes
clinicas
clinicas_empresas
contratantes
entidades_senhas
entidades_senhas_audit
contratos
contratos_planos
emissao_queue
empresas_clientes
fila_emissao
funcionarios
laudo_arquivos_remotos
laudo_downloads
laudo_generation_jobs
laudos
logs_admin
lote_id_allocator
lotes_avaliacao
mfa_codes
migration_guidelines
notificacoes
notificacoes_admin
notificacoes_traducoes
pagamentos
payment_links
pdf_jobs
permissions
planos
policy_expression_backups
questao_condicoes
recibos
relatorio_templates
respostas
resultados
role_permissions
roles
session_logs
templates_contrato
tokens_retomada_pagamento
usuarios
```

### ⚠️ Diferenças:

**Tabelas faltando em PRODUÇÃO:**

- \_migration_issues
- fila_emissao

**Tabelas extras em PRODUÇÃO:**

- contratacao_personalizada

## 6. COLUNAS DAS PRINCIPAIS TABELAS

### Tabela: **lotes_avaliacao**

**PRODUÇÃO:**

```
id|integer|NO
clinica_id|integer|YES
empresa_id|integer|YES
descricao|text|YES
tipo|character varying|YES
status|character varying|YES
liberado_por|character|YES
liberado_em|timestamp without time zone|YES
criado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
laudo_enviado_em|timestamp without time zone|YES
finalizado_em|timestamp without time zone|YES
numero_ordem|integer|NO
contratante_id|integer|YES
emitido_em|timestamp with time zone|YES
enviado_em|timestamp with time zone|YES
hash_pdf|character varying|YES
setor_id|integer|YES
processamento_em|timestamp without time zone|YES
```

**DESENVOLVIMENTO:**

```
id|integer|NO
clinica_id|integer|YES
empresa_id|integer|YES
descricao|text|YES
tipo|character varying|YES
status|character varying|YES
liberado_por|character|YES
liberado_em|timestamp without time zone|YES
criado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
contratante_id|integer|YES
hash_pdf|character varying|YES
numero_ordem|integer|NO
emitido_em|timestamp with time zone|YES
enviado_em|timestamp with time zone|YES
setor_id|integer|YES
laudo_enviado_em|timestamp without time zone|YES
finalizado_em|timestamp without time zone|YES
modo_emergencia|boolean|YES
motivo_emergencia|text|YES
```

**⚠️ Diferenças detectadas:**

- Colunas faltando em PROD: modo_emergencia, motivo_emergencia
- Colunas extras em PROD: processamento_em

### Tabela: **laudos**

**PRODUÇÃO:**

```
id|integer|NO
lote_id|integer|NO
emissor_cpf|character|YES
observacoes|text|YES
status|character varying|YES
criado_em|timestamp without time zone|YES
emitido_em|timestamp without time zone|YES
enviado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
relatorio_individual|bytea|YES
relatorio_lote|bytea|YES
relatorio_setor|bytea|YES
hash_relatorio_individual|character varying|YES
hash_relatorio_lote|character varying|YES
hash_relatorio_setor|character varying|YES
hash_pdf|character varying|YES
```

**DESENVOLVIMENTO:**

```
id|integer|NO
lote_id|integer|NO
emissor_cpf|character|YES
observacoes|text|YES
status|character varying|YES
criado_em|timestamp without time zone|YES
emitido_em|timestamp without time zone|YES
enviado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
hash_pdf|character varying|YES
job_id|bigint|YES
arquivo_remoto_provider|character varying|YES
arquivo_remoto_bucket|character varying|YES
arquivo_remoto_key|character varying|YES
arquivo_remoto_url|text|YES
relatorio_individual|bytea|YES
relatorio_lote|bytea|YES
relatorio_setor|bytea|YES
hash_relatorio_individual|character varying|YES
hash_relatorio_lote|character varying|YES
hash_relatorio_setor|character varying|YES
```

**⚠️ Diferenças detectadas:**

- Colunas faltando em PROD: job_id, arquivo_remoto_provider, arquivo_remoto_bucket, arquivo_remoto_key, arquivo_remoto_url

### Tabela: **avaliacoes**

**PRODUÇÃO:**

```
id|integer|NO
funcionario_cpf|character|NO
inicio|timestamp without time zone|YES
envio|timestamp without time zone|YES
status|character varying|YES
grupo_atual|integer|YES
criado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
lote_id|integer|YES
inativada_em|timestamp with time zone|YES
motivo_inativacao|text|YES
concluida_em|timestamp without time zone|YES
```

**DESENVOLVIMENTO:**

```
id|integer|NO
funcionario_cpf|character|NO
inicio|timestamp without time zone|YES
envio|timestamp without time zone|YES
status|character varying|YES
grupo_atual|integer|YES
criado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
lote_id|integer|YES
inativada_em|timestamp with time zone|YES
motivo_inativacao|text|YES
concluida_em|timestamp without time zone|YES
```

✅ **Colunas alinhadas!**

### Tabela: **funcionarios**

**PRODUÇÃO:**

```
id|integer|NO
cpf|character|NO
nome|character varying|NO
setor|character varying|YES
funcao|character varying|YES
email|character varying|YES
senha_hash|text|NO
perfil|character varying|YES
ativo|boolean|YES
criado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
clinica_id|integer|YES
empresa_id|integer|YES
matricula|character varying|YES
turno|character varying|YES
escala|character varying|YES
nivel_cargo|USER-DEFINED|YES
data_nascimento|date|YES
incluido_em|timestamp without time zone|YES
inativado_em|timestamp without time zone|YES
inativado_por|character varying|YES
data_admissao|date|YES
ultima_avaliacao_id|integer|YES
ultima_avaliacao_data_conclusao|timestamp without time zone|YES
ultima_avaliacao_status|character varying|YES
ultimo_motivo_inativacao|text|YES
indice_avaliacao|integer|NO
data_ultimo_lote|timestamp without time zone|YES
contratante_id|integer|YES
usuario_tipo|USER-DEFINED|NO
```

**DESENVOLVIMENTO:**

```
id|integer|NO
cpf|character|NO
nome|character varying|NO
setor|character varying|YES
funcao|character varying|YES
email|character varying|YES
senha_hash|text|NO
perfil|character varying|YES
ativo|boolean|YES
criado_em|timestamp without time zone|YES
atualizado_em|timestamp without time zone|YES
clinica_id|integer|YES
empresa_id|integer|YES
matricula|character varying|YES
turno|character varying|YES
escala|character varying|YES
nivel_cargo|character varying|YES
ultima_avaliacao_id|integer|YES
ultima_avaliacao_data_conclusao|timestamp without time zone|YES
ultima_avaliacao_status|character varying|YES
ultimo_motivo_inativacao|text|YES
data_ultimo_lote|timestamp without time zone|YES
data_nascimento|date|YES
contratante_id|integer|YES
indice_avaliacao|integer|NO
usuario_tipo|USER-DEFINED|NO
incluido_em|timestamp without time zone|YES
inativado_em|timestamp without time zone|YES
inativado_por|character varying|YES
ultimo_lote_codigo|character varying|YES
```

**⚠️ Diferenças detectadas:**

- Colunas faltando em PROD: ultimo_lote_codigo
- Colunas extras em PROD: data_admissao

### Tabela: **audit_logs**

**PRODUÇÃO:**

```
id|bigint|NO
user_cpf|character|YES
user_perfil|character varying|YES
action|character varying|NO
resource|character varying|NO
resource_id|text|YES
old_data|jsonb|YES
new_data|jsonb|YES
ip_address|inet|YES
user_agent|text|YES
details|text|YES
created_at|timestamp without time zone|NO
contratante_id|integer|YES
clinica_id|integer|YES
```

**DESENVOLVIMENTO:**

```
id|bigint|NO
user_cpf|character|YES
user_perfil|character varying|YES
action|character varying|NO
resource|character varying|NO
resource_id|text|YES
old_data|jsonb|YES
new_data|jsonb|YES
ip_address|inet|YES
user_agent|text|YES
details|text|YES
created_at|timestamp without time zone|NO
contratante_id|integer|YES
clinica_id|integer|YES
```

✅ **Colunas alinhadas!**

### Tabela: **auditoria_laudos**

**PRODUÇÃO:**

```
id|bigint|NO
lote_id|integer|NO
laudo_id|integer|YES
emissor_cpf|character varying|YES
emissor_nome|character varying|YES
acao|character varying|NO
status|character varying|NO
ip_address|inet|YES
observacoes|text|YES
criado_em|timestamp without time zone|NO
solicitado_por|character varying|YES
tipo_solicitante|character varying|YES
tentativas|integer|YES
erro|text|YES
```

**DESENVOLVIMENTO:**

```
id|bigint|NO
lote_id|integer|NO
laudo_id|integer|YES
emissor_cpf|character varying|YES
emissor_nome|character varying|YES
acao|character varying|NO
status|character varying|NO
ip_address|inet|YES
observacoes|text|YES
criado_em|timestamp without time zone|NO
solicitado_por|character varying|YES
tipo_solicitante|character varying|YES
tentativas|integer|YES
erro|text|YES
```

✅ **Colunas alinhadas!**

---

## 📋 RESUMO FINAL

⚠️ **ATENÇÃO!** Foram detectadas 458 diferenças entre os schemas.

**Recomendações:**

1. Revise cada diferença listada acima
2. Execute as migrations faltantes em produção
3. Valide o funcionamento após aplicar as correções
