ALTER TABLE lotes_avaliacao ALTER COLUMN status TYPE TEXT; DROP TYPE IF EXISTS status_lote CASCADE; CREATE TYPE status_lote AS ENUM ('ativo', 'concluido', 'finalizado', 'cancelado'); UPDATE lotes_avaliacao SET status = 'ativo' WHERE status NOT IN ('ativo', 'concluido', 'finalizado', 'cancelado'); ALTER TABLE lotes_avaliacao ALTER COLUMN status TYPE status_lote USING status::status_lote;
